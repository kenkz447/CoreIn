{"version":3,"sources":["node_modules/browser-pack/_prelude.js","develop/scripts/develop/scripts/dbgroupvn.jsx","develop/scripts/dbgroupvn/bo-suu-tap/components/page-item.jsx","develop/scripts/dbgroupvn/bo-suu-tap/index.jsx","develop/scripts/dbgroupvn/cong-trinh/components/page-item.jsx","develop/scripts/dbgroupvn/cong-trinh/index.jsx","develop/scripts/dbgroupvn/gioi-thieu/components/quy-trinh.jsx","develop/scripts/dbgroupvn/gioi-thieu/index.jsx","develop/scripts/dbgroupvn/root.jsx","develop/scripts/dbgroupvn/routes.jsx","develop/scripts/dbgroupvn/shared/_layout.jsx","develop/scripts/dbgroupvn/shared/_layout/footer.jsx","develop/scripts/dbgroupvn/shared/_layout/footer/copy-right.jsx","develop/scripts/dbgroupvn/shared/_layout/footer/menu.jsx","develop/scripts/dbgroupvn/shared/_layout/footer/socials.jsx","develop/scripts/dbgroupvn/shared/_layout/header.jsx","develop/scripts/dbgroupvn/shared/_layout/header/develop/scripts/dbgroupvn/shared/_layout/header/header-mobile.jsx","develop/scripts/dbgroupvn/shared/_layout/header/language-select.jsx","develop/scripts/dbgroupvn/shared/_layout/header/logo.jsx","develop/scripts/dbgroupvn/shared/_layout/header/menu.jsx","develop/scripts/dbgroupvn/shared/_layout/header/search.jsx","develop/scripts/dbgroupvn/shared/_layout/main/base-page.jsx","develop/scripts/dbgroupvn/shared/_layout/main/develop/scripts/dbgroupvn/shared/_layout/main/connected-base-page.jsx","develop/scripts/dbgroupvn/shared/_layout/main/page-loading.jsx","develop/scripts/dbgroupvn/shared/_layout/mobile/menu.jsx","develop/scripts/dbgroupvn/shared/_localization.jsx","develop/scripts/dbgroupvn/shared/_localization/en-us.jsx","develop/scripts/dbgroupvn/shared/components.jsx","develop/scripts/dbgroupvn/shared/components/_commons/delay-render.jsx","develop/scripts/dbgroupvn/shared/components/_commons/extended-ConnectedRouter.jsx","develop/scripts/dbgroupvn/shared/components/breacrumbs.jsx","develop/scripts/dbgroupvn/shared/components/category-menu.jsx","develop/scripts/dbgroupvn/shared/components/connected-breacrumbs.jsx","develop/scripts/dbgroupvn/shared/components/du-an/du-an.jsx","develop/scripts/dbgroupvn/shared/components/image.jsx","develop/scripts/dbgroupvn/shared/components/page-article.jsx","develop/scripts/dbgroupvn/shared/components/section-title.jsx","develop/scripts/dbgroupvn/shared/components/sidebar.jsx","develop/scripts/dbgroupvn/shared/reducer.jsx","develop/scripts/dbgroupvn/shared/reducers/localization.jsx","develop/scripts/dbgroupvn/shared/ultilities.jsx","develop/scripts/dbgroupvn/shared/ultilities/requestData.jsx","develop/scripts/dbgroupvn/trang-chu/components/cong-trinh.jsx","develop/scripts/dbgroupvn/trang-chu/components/du-an.jsx","develop/scripts/dbgroupvn/trang-chu/components/slider.jsx","develop/scripts/dbgroupvn/trang-chu/index.jsx","node_modules/classNames/index.js","node_modules/exenv/index.js","node_modules/underscore/underscore.js"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dbgroupvn.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","﻿const { render } = require('react-dom');\r\nconst { createStore, applyMiddleware } = require('redux');\r\nconst { routerMiddleware, push } = require('react-router-redux');\r\n\r\nconst { history, Root } = require('./dbgroupvn/root.jsx');\r\nconst updateLayout = require('./dbgroupvn/shared/_layout').updateLayout;\r\n\r\nconst reducer = require('./dbgroupvn/shared/reducer');\r\nconst middleware = routerMiddleware(history)\r\n\r\nconst store = createStore(reducer, applyMiddleware(middleware, updateLayout));\r\n\r\nconst initLocalization = require('./dbgroupvn/shared/reducers/localization').actions.init;\r\nconst initMenu = require('./dbgroupvn/shared/_layout/header/menu').actions.init;\r\n\r\nimport { INIT_ROUTES } from './dbgroupvn/routes';\r\n\r\nglobal.localizationString = require('./dbgroupvn/shared/_localization');\r\n\r\n$(document).ready(function () {\r\n    $.ajax({\r\n        url: \"/DbGroupVn/GetSiteInitData\",\r\n        success: (response) => {\r\n\r\n            store.dispatch(initLocalization(response.localization))\r\n            global.localizationString.setLanguage(response.localization.currentLanguage)\r\n\r\n            //Routes\r\n            store.dispatch({type: INIT_ROUTES})\r\n\r\n            //Khởi tạo giá trị mặc định cho components     \r\n            store.dispatch(initMenu(response.menu))\r\n\r\n            render(\r\n                <Root store={store} />,\r\n                document.getElementById('root')\r\n            );\r\n        }\r\n    });\r\n});\r\n\r\nfunction onElementHeightChange(elm, callback) {\r\n    var lastHeight = elm.clientHeight, newHeight;\r\n    (function run() {\r\n        newHeight = elm.clientHeight;\r\n        if (lastHeight != newHeight)\r\n            callback();\r\n        lastHeight = newHeight;\r\n\r\n        if (elm.onElementHeightChangeTimer)\r\n            clearTimeout(elm.onElementHeightChangeTimer);\r\n\r\n        elm.onElementHeightChangeTimer = setTimeout(run, 200);\r\n    })();\r\n}\r\n\r\n//Nếu height của body thay đổi thì refresh AOS\r\nonElementHeightChange(document.body, function () {\r\n    AOS.refresh();\r\n});","const { Link } = require('react-router-dom');\r\n\r\nclass PageItem extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.renderLink = this.renderLink.bind(this);\r\n    }\r\n\r\n    renderLink(title) {\r\n        return(\r\n            <Link to=\"/bo-suu-tap\"><span>{title}</span></Link>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { data: { thumbnailUrl, title, acreage} } = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"page-item-thumbnail\">\r\n                    <img className=\"w-100\" src={`/${thumbnailUrl}`}/>\r\n                    <div className=\"overlay\"/>\r\n                    {this.renderLink(localizationString.getString(\"Chi tiết\"))}\r\n                </div>\r\n                <div className=\"page-item-title\">\r\n                    {this.renderLink(title)}\r\n                    <span className=\"extra\">\r\n                        { acreage }\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = PageItem;","const { bindActionCreators } = require('redux');\r\nconst { connect } = require('react-redux')\r\n\r\nimport { Container, Row, Col } from 'reactstrap'\r\nimport BasePage from '../shared/_layout/main/base-page'\r\nimport { refreshRoutePath } from '../routes'\r\n\r\nimport { Sidebar, Image, CategoryMenu } from '../shared/components'\r\n\r\nimport { dataRequest } from '../shared/ultilities'\r\nimport PageItem from './components/page-item'\r\n\r\nclass PageComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.renderSidebar = this.renderSidebar.bind(this)\r\n        this.fetchData = this.fetchData.bind(this)\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { onError, onDataFetch, refreshRoutePath, categories, page, items, currentCategory  } = this.props\r\n\r\n        if (!page)\r\n            $.get('/page/getsingle?entityName=bo-suu-tap', function (response) {\r\n                onDataFetch({ page: response.details }, 50);\r\n            })\r\n        if (!categories)\r\n            $.get('/TaxonomyUI/GetTaxonomies', { taxonomyTypeId: 30003 }, function (response) {\r\n                onDataFetch({ categories: response }, 50)\r\n            })\r\n\r\n        if (!items)\r\n            this.fetchData(currentCategory)\r\n\r\n        refreshRoutePath('bo-suu-tap')\r\n    }\r\n\r\n    fetchData(currentCategory) {\r\n                const { onDataFetch } = this.props\r\n\r\n            dataRequest('/collection/gettabledata', 9, 1, null, null, currentCategory && { 30003: currentCategory.id }, function (response) {\r\n                onDataFetch({ items: response }, 0)\r\n            })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        const {currentCategory} = this.props;\r\n        if(currentCategory && nextProps.currentCategory && currentCategory.id != nextProps.currentCategory.id)\r\n        this.fetchData(nextProps.currentCategory)\r\n    }\r\n\r\n    renderSidebar() {\r\n        const { categories, onDataFetch, currentCategory } = this.props;\r\n\r\n        return (\r\n            <Sidebar>\r\n                { categories && <CategoryMenu currentCategory={currentCategory} categories={ categories } onDataFetch={onDataFetch}/> }\r\n            </Sidebar>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        if (this.props.dataFetchProgress != 100)\r\n            return null;\r\n\r\n        const { page: { thumbnail }, categories, items , currentCategory} = this.props;\r\n\r\n        return (\r\n            <Container id=\"bo-suu-tap\">\r\n                <Row>\r\n                    <Col lg=\"3\">\r\n                        { this.renderSidebar() }\r\n                    </Col>\r\n                    <Col xs=\"12\" lg=\"9\">\r\n                        <Image {...thumbnail} />\r\n                        <div className=\"page-titles mt-4 mb-3\">\r\n                            <span className=\"page-title\">{localizationString.getString(\"Bộ sưu tập\")}</span>\r\n                            <span>|</span>\r\n                            <span className=\"page-title\">{currentCategory ? currentCategory.title :localizationString.getString(\"Tất cả\") }</span>\r\n                        </div>\r\n                        <Row>\r\n                            {\r\n                                items.length &&\r\n                                items.map((item, index) => {\r\n                                    return (\r\n                                        <Col key={ item.id } xs=\"6\" lg=\"4\" className=\"page-item\">\r\n                                            <PageItem data={ item } />\r\n                                        </Col>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n\r\n})\r\n\r\nconst dispathToProps = (dispath) => (\r\n    bindActionCreators({ refreshRoutePath }, dispath)\r\n)\r\n\r\nconst ConnectedPageComponent = connect(stateToProps, dispathToProps)(PageComponent)\r\n\r\nmodule.exports = BasePage({ page: 'bo-suu-tap', showBreadcrumbs: true })(ConnectedPageComponent);","const { Link } = require('react-router-dom');\r\n\r\nclass PageItem extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.renderLink = this.renderLink.bind(this);\r\n    }\r\n\r\n    renderLink(title) {\r\n        return(\r\n            <Link to=\"/cong-trinh\"><span>{title}</span></Link>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { data: { thumbnailUrl, title, acreage} } = this.props;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"page-item-thumbnail\">\r\n                    <img className=\"w-100\" src={`/${thumbnailUrl}`}/>\r\n                    <div className=\"overlay\"/>\r\n                    {this.renderLink(localizationString.getString(\"Chi tiết\"))}\r\n                </div>\r\n                <div className=\"page-item-title\">\r\n                    {this.renderLink(title)}\r\n                    <span className=\"extra\">\r\n                        { acreage }\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = PageItem;","const { bindActionCreators } = require('redux');\r\nconst { connect } = require('react-redux')\r\n\r\nimport { Container, Row, Col } from 'reactstrap'\r\nimport BasePage from '../shared/_layout/main/base-page'\r\nimport { refreshRoutePath } from '../routes'\r\n\r\nimport { Sidebar, Image, CategoryMenu } from '../shared/components'\r\n\r\nimport { dataRequest } from '../shared/ultilities'\r\nimport PageItem from './components/page-item'\r\n\r\nclass PageComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.renderSidebar = this.renderSidebar.bind(this)\r\n        this.fetchData = this.fetchData.bind(this)\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { onError, onDataFetch, refreshRoutePath, categories, page, items, currentCategory  } = this.props\r\n\r\n        if (!page)\r\n            $.get('/page/getsingle?entityName=cong-trinh', function (response) {\r\n                onDataFetch({ page: response.details }, 50);\r\n            })\r\n        if (!categories)\r\n            $.get('/TaxonomyUI/GetTaxonomies', { taxonomyTypeId: 10003 }, function (response) {\r\n                onDataFetch({ categories: response }, 50)\r\n            })\r\n\r\n        if (!items)\r\n            this.fetchData(currentCategory)\r\n\r\n        refreshRoutePath('cong-trinh')\r\n    }\r\n\r\n    fetchData(currentCategory) {\r\n                const { onDataFetch } = this.props\r\n\r\n            dataRequest('/construction/gettabledata', 9, 1, null, null, currentCategory && { 10003: currentCategory.id }, function (response) {\r\n                onDataFetch({ items: response }, 0)\r\n            })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        const {currentCategory} = this.props;\r\n        if(currentCategory && nextProps.currentCategory && currentCategory.id != nextProps.currentCategory.id)\r\n        this.fetchData(nextProps.currentCategory)\r\n    }\r\n\r\n    renderSidebar() {\r\n        const { categories, onDataFetch, currentCategory } = this.props;\r\n\r\n        return (\r\n            <Sidebar>\r\n                { categories && <CategoryMenu currentCategory={currentCategory} categories={ categories } onDataFetch={onDataFetch}/> }\r\n            </Sidebar>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        \r\n        if (this.props.dataFetchProgress != 100)\r\n            return null;\r\n\r\n        const { page: { thumbnail }, categories, items , currentCategory} = this.props;\r\n\r\n        return (\r\n            <Container id=\"construction\"> \r\n                <Row>\r\n                    <Col lg=\"3\">\r\n                        { this.renderSidebar() }\r\n                    </Col>\r\n                    <Col xs=\"12\" lg=\"9\">\r\n                        <Image {...thumbnail} />\r\n                        <div className=\"page-titles mt-4 mb-3\">\r\n                            <span className=\"page-title\">{localizationString.getString(\"Bộ sưu tập\")}</span>\r\n                            <span>|</span>\r\n                            <span className=\"page-title\">{currentCategory ? currentCategory.title :localizationString.getString(\"Tất cả\") }</span>\r\n                        </div>\r\n                        <Row>\r\n                            {\r\n                                items.length &&\r\n                                items.map((item, index) => {\r\n                                    return (\r\n                                        <Col key={ item.id } xs=\"6\" lg=\"4\" className=\"page-item\">\r\n                                            <PageItem data={ item } />\r\n                                        </Col>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n\r\n})\r\n\r\nconst dispathToProps = (dispath) => (\r\n    bindActionCreators({ refreshRoutePath }, dispath)\r\n)\r\n\r\nconst ConnectedPageComponent = connect(stateToProps, dispathToProps)(PageComponent)\r\n\r\nmodule.exports = BasePage({ page: 'cong-trinh', showBreadcrumbs: true })(ConnectedPageComponent);","const { Container } = require('reactstrap');\r\nconst { Title } = require('../../shared/components');\r\n\r\nmodule.exports = class extends React.Component {\r\n    componentDidMount() {\r\n        $(\".cd-timeline-block\").each(function (index) {\r\n            const $this = $(this);\r\n            var objPrev = $this.prev('.cd-timeline-block');\r\n            if (objPrev.hasClass('odd')) {\r\n                $this.find('.cd-timeline-content p').attr('data-aos', 'zoom-in');\r\n                $this.find('.cd-timeline-content h2').attr('data-aos', 'zoom-in');\r\n\r\n                $this.addClass('even');\r\n            } else {\r\n                $this.find('.cd-timeline-content p').attr('data-aos', 'zoom-in');\r\n                $this.find('.cd-timeline-content h2').attr('data-aos', 'zoom-in');\r\n                $this.addClass('odd');\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { items, title } = this.props;\r\n\r\n        var array = items.map(item => {\r\n            var strs = String(item.value).split('\\n');\r\n            var obj = {};\r\n            for (var i in strs) {\r\n                var str = strs[i].split(':');\r\n                if (str.length == 2) {\r\n                    var kv = str;\r\n                    var k = kv[0].trim();\r\n                    var v = kv[1].trim();\r\n                    obj[k] = v;\r\n                }\r\n            }\r\n            return obj;\r\n        });\r\n\r\n        return (\r\n            <Container>\r\n                <Title>{title}</Title>\r\n                <section id=\"cd-timeline\">\r\n                    {\r\n                        array.map((item, index) => {\r\n                            if (!item.content) {\r\n                                return (\r\n                                    <p className=\"cd-timeline-title\">\r\n                                        <span className=\"text\">\r\n                                            {item.label}\r\n                                        </span>\r\n                                    </p>\r\n                                );\r\n                            }\r\n                            return (\r\n                                <div className=\"cd-timeline-block clearfix\">\r\n                                    <div className=\"cd-timeline-dot\" />\r\n                                    <div className=\"cd-timeline-content clearfix\">\r\n                                        <h2>{item.label}</h2>\r\n                                        <p>{item.content}</p>\r\n                                        <div className=\"cd-icon\">\r\n                                            <img src={item.icon} alt={item.title} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n\r\n                        })\r\n                    }\r\n                </section>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n","﻿const { bindActionCreators } = require('redux');\r\n\r\nconst { Container, Row } = require('reactstrap');\r\nconst { Image,  Title, PageArticle } = require('../shared/components');\r\nconst QuyTrinh = require('./components/quy-trinh');\r\n\r\nconst BasePage = require('../shared/_layout/main/base-page');\r\n\r\nclass PageComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { onError, onDataFetch, article, procedure } = this.props;\r\n\r\n        if(!article)\r\n            $.get('/page/GetSingle?entityName=ve-chung-toi', function (response) {\r\n                onDataFetch({ article: response}, 50);\r\n            });\r\n\r\n        if(!procedure)    \r\n            $.get('/optionGroup/GetSingle?entityName=quy-trinh', function (response) {\r\n                onDataFetch({ procedure: response.details }, 50);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.dataFetchProgress != 100)\r\n            return null;\r\n\r\n        const { article, procedure } = this.props;\r\n\r\n        return (\r\n            <div id=\"gioi-thieu\">\r\n                { article && <PageArticle className=\"mb-5 mb-xl-6\" {...article.details}/> }\r\n                { procedure && <QuyTrinh items={ procedure.options } title={procedure.title}/> }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = BasePage({ page: 'gioi-thieu' })(PageComponent);","﻿const { Route, Switch } = require('react-router')\nconst { Provider, connect } = require('react-redux')\nconst { createBrowserHistory } = require('history')\nconst { ConnectedRouter } = require('react-router-redux')\n\nconst PropTypes = require('prop-types');\n\nconst history = createBrowserHistory()\n\n// Pages:\nconst Layout = require('./shared/_layout').default\nconst TrangChu = require('./trang-chu/index')\nconst GioiThieu = require('./gioi-thieu/index')\nconst CongTrinh = require('./cong-trinh/index')\n\nimport { default as ExtendConnectedRouter } from './shared/components/_commons/extended-ConnectedRouter';\n\nclass Root extends React.Component {\n    constructor(props) {\n        super(props);\n        AOS.init();\n    }\n\n    render() {\n        const { menuItems, store } = this.props;\n        return (\n            <Provider store={ store }>\n                <ExtendConnectedRouter history={ history } wrapper={Layout}/>\n            </Provider>\n        );\n    }\n}\n\nRoot.propTypes = {\n    store: PropTypes.object.isRequired,\n};\n\nconst stateToProps = (state) => ({\n    menuItems: state.menu.menuItems\n})\n\nmodule.exports = {\n    Root: connect(stateToProps)(Root),\n    history\n};\n\nexport default exports","import TrangChu from './trang-chu/index'\r\nimport VeChungToi from './gioi-thieu/index'\r\nimport CongTrinh from './cong-trinh/index'\r\nimport BoSuuTap from './bo-suu-tap/index'\r\n\r\nconst getRoutes = () => ({\r\n    exact: true,\r\n    path: '/',\r\n    name: 'trang-chu',\r\n    label: localizationString.getString(\"Trang chủ\"),\r\n    component: TrangChu,\r\n    childRoutes: [\r\n        {\r\n            exact: true,\r\n            path: '/ve-chung-toi',\r\n            name: 've-chung-toi',\r\n            defaultLabel: localizationString.getString(\"Về chúng tôi\"),\r\n            component: VeChungToi\r\n        },\r\n        {\r\n            exact: true,\r\n            path: '/cong-trinh',\r\n            name: 'cong-trinh',\r\n            defaultLabel: localizationString.getString(\"Công trình\"),\r\n            component: CongTrinh\r\n        },\r\n                {\r\n            exact: true,\r\n            path: '/bo-suu-tap',\r\n            name: 'bo-suu-tap',\r\n            defaultLabel: localizationString.getString(\"Bộ sưu tập\"),\r\n            component: BoSuuTap\r\n        }\r\n    ]\r\n})\r\n\r\nconst getRoutePath = (routes = [], currentRouteName, labels) => {\r\n    var resultRoutePath = []\r\n\r\n    for (var routeIndex in routes) {\r\n        var route = routes[ routeIndex ]\r\n\r\n        if (labels && labels[ route.name ])\r\n            route.label = labels[ route.name ]\r\n        else\r\n            route.label = route.defaultLabel\r\n\r\n        if (route.name == currentRouteName) {\r\n            resultRoutePath.push(route)\r\n            return resultRoutePath\r\n        } else if (route.childRoutes) {\r\n            resultRoutePath.push(route)\r\n            var nextRoute = getRoutePath(route.childRoutes, currentRouteName, labels);\r\n            if (nextRoute.length) {\r\n                resultRoutePath = resultRoutePath.concat(nextRoute)\r\n                return resultRoutePath\r\n            } else\r\n                resultRoutePath = []\r\n        } else {\r\n            resultRoutePath = []\r\n        }\r\n    }\r\n\r\n    return resultRoutePath\r\n}\r\n\r\nconst INIT_ROUTES = \"INIT_ROUTES\"\r\nconst REFRESH_ROUTE_PATH = \"REFRESG_ROUTE_PATH\"\r\n\r\nconst refreshRoutePath = (currentRouteName, replaceRouteDefaultLabels) => ({\r\n    type: REFRESH_ROUTE_PATH,\r\n    currentRouteName,\r\n    replaceRouteDefaultLabels\r\n})\r\n\r\nconst reducer = (state = {}, action) => {\r\n    if (action.type === INIT_ROUTES) {\r\n        return $.extend(true, { routes: getRoutes() }, state)\r\n    }\r\n    if (action.type === REFRESH_ROUTE_PATH) {\r\n        const routePath = getRoutePath(state.routes.childRoutes, action.currentRouteName, action.routeLabels);\r\n        routePath.unshift(state.routes)\r\n        return $.extend(true, {}, state, { routePath })\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nexport { reducer, refreshRoutePath, INIT_ROUTES }","﻿const { connect } = require('react-redux');\r\nconst { bindActionCreators } = require('redux');\r\n\r\nconst Header = require('./_layout/header');\r\nconst Footer = require('./_layout/footer');\r\nconst OutNav = require('./_layout/mobile/menu');\r\nconst PageLoading = require('./_layout/main/page-loading');\r\n\r\nconst keys = {\r\n    updateLayout: \"SET_LAYOUT_PARAMETER\",\r\n    togglePageLoading: \"TOGGLE_PAGE_LOADING\",\r\n}\r\n\r\nconst actions = {\r\n    updateLayout: () => ({\r\n        type: keys.updateLayout\r\n    }),\r\n    togglePageLoading: (toggle) => ({\r\n        type: keys.togglePageLoading,\r\n        toggle\r\n    })\r\n}\r\nconst initState = {\r\n    loadingFadeOutTime: 500,\r\n\r\n}\r\n\r\nconst reducer = (state = initState, action) => {\r\n    var newState = {};\r\n    switch (action.type) {\r\n        case keys.updateLayout:\r\n            newState = $.extend(true, {}, state);\r\n            newState.parameters = action.parameters;\r\n            return newState;\r\n        case keys.togglePageLoading:\r\n            newState = $.extend(true, {}, state);\r\n            newState.isPageLoadingVisible = action.toggle;\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//middle ware to update layout after switch page, etc...\r\nconst updateLayout = store => next => action => {\r\n    if (action.type == keys.updateLayout) {\r\n        const footerElement = document.getElementById('footer');\r\n        const mainElement = document.getElementById('main');\r\n\r\n        const headerHeight = document.getElementById('header').clientHeight;\r\n        const footerHeight = footerElement.clientHeight;\r\n        const viewportHeight = window.outerHeight;\r\n        const layoutParameters = {\r\n            header: { id: header, height: headerHeight },\r\n            main: { id: main, minHeight: viewportHeight - footerHeight - headerHeight },\r\n            footer: { id: footer, height: footerHeight },\r\n            loading: { id: loading },\r\n            viewportHeight,\r\n        }\r\n\r\n        $(mainElement).css('min-height', layoutParameters.main.minHeight)\r\n        $(document.getElementById('layout')).fadeTo(500, 1)\r\n        $(document.getElementById('loading')).css('height', layoutParameters.main.minHeight)\r\n        action.parameters = layoutParameters;\r\n    }\r\n\r\n    return next(action)\r\n}\r\n\r\n\r\nclass LayoutController extends React.Component {\r\n    componentDidUpdate() {\r\n        const { layoutLoaded } = this.props;\r\n        if (layoutLoaded) {\r\n            const { updateLayout} = this.props;\r\n                updateLayout();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"layout-controller\" />;\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n});\r\n\r\nconst reducerToProps = (reducer) => (\r\n    bindActionCreators(actions, reducer)\r\n);\r\n\r\nconst ConnectedLayoutController = connect(stateToProps, reducerToProps)(LayoutController);\r\n\r\nclass Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false\r\n        }\r\n\r\n        this.elementRefs = {\r\n            layout: 'layout',\r\n            header: 'header',\r\n            main: 'main',\r\n            footer: 'footer',\r\n            loading: 'loader'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loaded: true });\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <div id={this.elementRefs.layout} className=\"layout perspective\" style={{ opacity: 0 }}>\r\n                <div className=\"wrapper\">\r\n                    <Header id={this.elementRefs.header} className=\"p-3 pt-lg-4 pb-lg-4\" />\r\n                    <div id={this.elementRefs.main} className=\"main pb-5 mt-lg-3\">\r\n                        {children}\r\n                        <PageLoading id={this.elementRefs.loading} />\r\n                    </div>\r\n                    <Footer id={this.elementRefs.footer} className=\"p-4\" />\r\n                </div>\r\n                <OutNav />\r\n                <ConnectedLayoutController {...this.elementRefs} layoutLoaded={this.state.loaded} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    updateLayout,\r\n    actions,\r\n    reducer,\r\n    default: Layout\r\n}","const classNames = require('classnames');\r\n\r\nconst { Container, Row, Col } = require('reactstrap');\r\nconst CopyRight = require('./footer/copy-right');\r\nconst Socials = require('./footer/socials');\r\nconst Menu = require('./footer/menu');\r\n\r\nmodule.exports = class extends React.Component {\r\n    render() {\r\n        return (\r\n            <div {...this.props}>\r\n                <Container fluid>\r\n                    <Row>\r\n                        <Col xs=\"12\" lg=\"4\" xl=\"6\" className=\"mb-3 mb-lg-0\">\r\n                            <CopyRight className=\"text-center text-xl-left\"/>\r\n                        </Col>\r\n                        <Col xs=\"12\" md=\"8\" lg=\"6\" xl=\"4\">\r\n                            <Menu className=\"text-center text-md-left text-xl-right\"/>\r\n                        </Col>\r\n                        <Col xs=\"12\" md=\"4\" lg=\"2\" xl=\"2\">\r\n                            <Socials  className=\"text-center text-md-right text-xl-right\"/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}","const classNames = require('classnames');\r\n\r\nmodule.exports = class extends React.Component {\r\n    render(){\r\n        return(\r\n            <div className={classNames(\"copyright\", this.props.className)}>\r\n                C 2017 dbgroup. All rights reserved\r\n            </div>\r\n        )\r\n    }\r\n}","const $ = require('jquery');\r\nconst _ = require('underscore');\r\nconst { Row, Col } = require('reactstrap');\r\nconst { Link } = require('react-router-dom');\r\nconst { connect } = require('react-redux');\r\nconst PropTypes = require('prop-types');\r\nconst classNames = require('classnames');\r\n\r\nconst stateToProps = (state) => ({\r\n    menuItems: state.menu.menuItems,\r\n});\r\n\r\nclass Menu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const footerMenuItem = props.menuItems.filter(item => {\r\n            return item.footer;\r\n        });\r\n\r\n        this.state = {\r\n            menuItems: _.sortBy(footerMenuItem, 'footer') \r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Row className={classNames(\"text-uppercase pl-0 mb-0\", this.props.className)}>\r\n                {\r\n                    this.state.menuItems.map((menuItem, index) => {\r\n                        return (\r\n                            <Col key={index} className=\"menu-item d-inline-block\">\r\n                                <Link to={menuItem.url}>\r\n                                    <span>{menuItem.title}</span>\r\n                                </Link>\r\n                            </Col>)\r\n                    })\r\n                }\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nMenu.propTypes = {\r\n    menuItems: PropTypes.array.isRequired\r\n}\r\n\r\nmodule.exports = connect(stateToProps)(Menu)","const classNames = require('classnames');\r\n\r\nmodule.exports = class extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            facebook: \"/\",\r\n            twitter: \"/\",\r\n            instagram: \"/\"\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <ul className={classNames(\"socials pl-0\", this.props.className)}>\r\n                <li className=\"facebook\"><a href={this.state.facebook}><i className=\"fa fa-facebook-official\"/></a></li>\r\n                <li className=\"twitter\"><a href={this.state.twitter}><i className=\"fa fa-twitter\"/></a></li>\r\n                <li className=\"instagram\"><a href={this.state.instagram}><i className=\"fa fa-instagram\"/></a></li>\r\n            </ul>\r\n        )\r\n    }\r\n}","﻿const { Container, Row, Col } = require('reactstrap');\r\n\r\nconst LanguageSelect = require('./header/language-select');\r\nconst Search = require('./header/search');\r\nconst Logo = require('./header/logo');\r\nconst Menu = require('./header/menu').default;\r\nconst MobileHeader = require('./header/header-mobile');\r\nconst classNames = require('classnames');\r\n\r\nmodule.exports = class extends React.Component {\r\n    render() {\r\n        return (\r\n            <header {...this.props}>\r\n                <Container className=\"d-none d-md-block\">\r\n                    <Row>\r\n                        <Col md=\"2\">\r\n                            <Logo />\r\n                        </Col>\r\n                        <Col md=\"10\">\r\n                            <Row>\r\n                                <div className=\"w-100\">\r\n                                    <div className=\"float-right\">\r\n                                        <div className=\"float-left language-select pr-3 mr-3\">\r\n                                            <LanguageSelect />\r\n                                        </div>\r\n                                        <div className=\"float-left\">\r\n                                            <Search />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Row>\r\n                            <Row className=\"menu-container\">\r\n                                <div className=\"align-items-end d-flex\">\r\n                                    <Menu />\r\n                                </div>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n                <MobileHeader className=\"d-block d-md-none\" />\r\n            </header>\r\n        );\r\n    }\r\n\r\n}","const classNames = require('classnames');\r\nconst LanguageSelect = require('./language-select');\r\nconst Search = require('./search');\r\n\r\n\r\nmodule.exports = class extends React.Component {\r\n\topenMenu() {\r\n\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tif ('ontouchstart' in window)\r\n\t\t\tvar click = 'touchstart';\r\n\t\telse\r\n\t\t\tvar click = 'click';\r\n\r\n\t\tvar $layout = $($('.layout')[0]);\r\n\t\tvar $wrapper = $layout.find('.wrapper');\r\n\t\tvar $burger = $layout.find('.burger');\r\n\r\n\t\tglobal.closeMenu = function closeMenu() {\r\n\t\t\t$layout.removeClass('animate').delay(500).queue(function () {\r\n\t\t\t\t$wrapper.unbind(click);\r\n\t\t\t\t$layout.removeClass('modalview').dequeue();\r\n\t\t\t});\r\n\t\t\t$burger.removeClass('open');\r\n\t\t}\r\n\r\n\t\tglobal.openMenu = function openMenu() {\r\n\t\t\t$burger.addClass('open');\r\n\t\t\t$layout.addClass('modalview');\r\n\t\t\t$layout.addClass('animate').delay(500).queue(function () {\r\n\t\t\t\t$wrapper.bind(click, function () {\r\n\t\t\t\t\tif ($layout.hasClass('modalview'))\r\n\t\t\t\t\t\tcloseMenu();\r\n\t\t\t\t});\r\n\t\t\t\t$layout.addClass('modalview').dequeue();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$burger.on(click, function () {\r\n\t\t\topenMenu();\r\n\t\t});\r\n\r\n\t\tvar $nav = $layout.find('.outer-nav');\r\n\t\t$nav.find('a').bind(click, function() {\r\n\t\t\tcloseMenu();\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={classNames(\"header-mobile clearfix\", this.props.className)}>\r\n\t\t\t\t<div className=\"float-left mt-1\">\r\n\t\t\t\t\t<div className=\"burger\">\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"float-right\">\r\n\t\t\t\t\t<div className=\"float-left language-select pr-3 mr-3\">\r\n\t\t\t\t\t\t<LanguageSelect />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"float-left\">\r\n\t\t\t\t\t\t<Search />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","﻿const $ = require('jquery');\r\nconst { connect } = require('react-redux');\r\nconst { bindActionCreators } = require('redux');\r\nconst { Input } = require('reactstrap');\r\n\r\nconst { swithLanguage } = require('../../reducers/localization').actions;\r\n\r\nclass LanguageSelect extends React.Component {\r\n    render(){\r\n        const { languages, currentLanguage, swithLanguage } = this.props;\r\n        return (\r\n            <form method=\"post\" action=\"localization/switch\" ref=\"form\">\r\n                <Input name=\"culture\" value={currentLanguage} className=\"text-uppercase border-0 p-0\" type=\"select\" onChange={(e) => { this.refs.form.submit(); }}>\r\n                    { \r\n                        languages.map((language) => {\r\n                            return <option key={language.name} value={language.name}>{language.title}</option>;\r\n                        })\r\n                    }\r\n                </Input>\r\n            </form>\r\n            );\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    currentLanguage: state.localization.currentLanguage,\r\n    languages: state.localization.languages\r\n});\r\n\r\nconst dispathToProps = (dispatch) => (\r\n    bindActionCreators({  }, dispatch)\r\n);\r\n\r\nmodule.exports = connect(stateToProps, dispathToProps)(LanguageSelect)","﻿module.exports = (props) => {\r\n    return (\r\n        <div className=\"logo\">\r\n            <img src=\"/img/logo.png\" />\r\n        </div>\r\n        );\r\n}","﻿const $ = require('jquery');\r\nconst { NavLink } = require('react-router-dom');\r\nconst { connect } = require('react-redux');\r\nconst { bindActionCreators } = require('redux');\r\nconst PropTypes = require('prop-types');\r\n\r\nconst keys = {\r\n    init: \"MENU_INIT\"\r\n}\r\n\r\nconst actions = {\r\n    //initState:\r\n    // - menuItems: flat array\r\n    init: (initState) => ({\r\n        type: keys.init,\r\n        initState\r\n    })\r\n}\r\n\r\nconst reducer = (state = {}, action) => {\r\n    const newState = $.extend(true, {}, state);\r\n    switch (action.type) {\r\n        case keys.init:\r\n            return action.initState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    menuItems: state.menu.menuItems,\r\n});\r\n\r\nconst dispathToProps = (dispatch) => (\r\n    bindActionCreators({  }, dispatch)\r\n);\r\n\r\n\r\nclass Menu extends React.Component {\r\n    render() {\r\n        const { menuItems } = this.props;\r\n        return (\r\n            <ul className=\"menu text-uppercase pl-0 mb-0\">\r\n                {\r\n                    menuItems.map((menuItem, index) => {\r\n                        return (\r\n                            <li key={index} className=\"menu-item d-inline-block\">\r\n                                <NavLink exact={ menuItem.url == '/'} to={menuItem.url} activeClassName=\"current\">\r\n                                    <span>{menuItem.title}</span>\r\n                                </NavLink>\r\n                            </li>)\r\n                    })\r\n                }\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nMenu.propTypes = {\r\n    menuItems: PropTypes.array.isRequired\r\n}\r\n\r\nmodule.exports ={\r\n    actions,\r\n    reducer,\r\n    default: connect(stateToProps, dispathToProps, null, { pure: false })(Menu)\r\n}","﻿const { Button } = require('reactstrap');\r\n\r\nmodule.exports = (props) => {\r\n    return (\r\n        <div>\r\n            <Button color=\"link\" className=\"btn-search text-uppercase pl-0 pr-0 border-0\">\r\n                <i className=\"fa fa-search mr-2\" aria-hidden=\"true\"/> search\r\n            </Button>\r\n        </div>\r\n        )\r\n}","const ConnectedBasePage = require('./connected-base-page').default;\r\nconst PropTypes = require('prop-types');\r\n\r\nconst baseArgs = {\r\n    page: ''\r\n}\r\n\r\nbaseArgs.PropTypes = {\r\n    page: PropTypes.string.require\r\n}\r\n\r\nmodule.exports = (args = baseArgs) => Element => class extends React.Component {\r\n    render() {\r\n        return (\r\n            <ConnectedBasePage {...args} {...this.props} component={Element} />\r\n        )\r\n    }\r\n}","const { connect } = require('react-redux');\nconst { bindActionCreators } = require('redux');\nconst { Swipeable, defineSwipe } = require('react-touch');\n\nconst layoutActions = require('../../_layout').actions;\n\nconst DelayRender = require('../../components/_commons/delay-render');\n\nimport { ConnectedBreacrumbs } from '../../components'\n\nconst keys = {\n  createNewPage: \"CREATE_NEW_PAGE\",\n  onDataFetch: \"ON_PAGE_FETCH_DATA\"\n}\n\nconst actions = {\n  createNewPage: (page) => ({\n    type: keys.createNewPage,\n    page\n  }),\n\n  //progress: 0 - 100.\n  onDataFetch: (page, data, progress = 100) => ({\n    type: keys.onDataFetch,\n    page,\n    data,\n    progress\n  })\n}\n\nconst initState = {\n  pages: {} //data of all page\n}\n\nconst reducer = (state = initState, action) => {\n  var newState = {};\n  switch (action.type) {\n    case keys.onDataFetch:\n      newState = $.extend(true, {}, state);\n      var pages = newState.pages;\n      var currentPageData = $.extend(pages[ action.page ], action.data);\n      currentPageData.dataFetchProgress += action.progress;\n      if (currentPageData.dataFetchProgress > 100)\n        console.error(`'dataFetchProgress' phải từ 0 đến 100, hiện tại ${currentPageData.dataFetchProgress}.`);\n      newState.pages[ action.page ] = currentPageData;\n      return newState;\n    case keys.createNewPage:\n      newState = $.extend(true, {}, state);\n      newState.pages[ action.page ] = {\n        dataFetchProgress: 0\n      };\n      return newState;\n    default:\n      return state;\n\n  }\n}\n\nclass BasePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.baseDelay = 1000;\n    const { component } = this.props;\n\n    this.swipeLeft = this.swipeLeft.bind(this);\n    this.onDataFetch = this.onDataFetch.bind(this);\n\n    this.ElementWithDelayRender = DelayRender({\n      delay: this.baseDelay,\n      onRender: this.onPageComponentRender.bind(this)\n    })(component);\n  }\n\n  componentWillUnmount() {\n    const { togglePageLoading, updateLayout } = this.props;\n    updateLayout();\n    togglePageLoading(true);\n  }\n\n  swipeLeft() {\n    global.openMenu();\n  }\n\n  onDataFetch(data, progress) {\n    const { onDataFetch, page } = this.props;\n    onDataFetch(page, data, progress);\n  }\n\n  onPageComponentRender() {\n    const { togglePageLoading, loadingFadeOutTime } = this.props;\n    const $element = $(ReactDOM.findDOMNode(this));\n\n    togglePageLoading(false);\n    $element.delay(this.baseDelay).fadeTo(500, 1);\n  }\n\n  componentWillMount() {\n    const { createNewPage,\n      pages,\n      page } = this.props;\n    const pageData = pages[ page ];\n    if (!pageData)\n      createNewPage(page);\n  }\n\n  render() {\n    const { createNewPage, component,\n      pages,\n      page, //page name of component\n      routes, match: { params }, showBreadcrumbs } = this.props;\n\n    const pageData = pages[ page ];\n    if (!pageData)\n      return null;\n\n    return (\n      <div className=\"base-page\" style={ { opacity: 0 } }>\n        <Swipeable onSwipeRight={ this.swipeLeft }>\n          <div className=\"swipeable\" />\n        </Swipeable>\n        {\n          showBreadcrumbs && <ConnectedBreacrumbs routes={routes} params={params} />\n        }\n        <this.ElementWithDelayRender {...pageData} onDataFetch={ this.onDataFetch } />\n      </div>\n    );\n  }\n};\n\nconst stateToProps = (state) => ({\n  layoutParameter: state.layout.parameters,//remove will take no effect!\n  loadingFadeOutTime: state.layout.loadingFadeOutTime,\n  pages: state.connectedBasePage.pages,\n  routes: state.routes\n});\n\nconst dispathToProps = (dispath) => (\n  bindActionCreators({\n    togglePageLoading: layoutActions.togglePageLoading,\n    updateLayout: layoutActions.updateLayout,\n    createNewPage: actions.createNewPage,\n    onDataFetch: actions.onDataFetch\n  }, dispath)\n);\n\nmodule.exports = {\n  actions,\n  reducer,\n  default: connect(stateToProps, dispathToProps)(BasePage)\n}","const { connect } = require('react-redux');\r\nconst svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"> <g class=\"anim-0\"> <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\" /> </g> <g class=\"anim-1\"> <circle cx=\"50\" cy=\"50\" r=\"5\" fill=\"#ff5e7C\" /> </g> <g class=\"anim-2\"> <circle cx=\"75\" cy=\"50\" r=\"5\" fill=\"#ff5e7C\" /> <line x1=\"25\" y1=\"50\" x2=\"75\" y2=\"50\" stroke=\"#ff5e7C\" stroke-width=\"3\" /> </g> <g class=\"anim-3\"> <circle cx=\"50\" cy=\"25\" r=\"5\" fill=\"#ff5e7C\" /> <line x1=\"50\" y1=\"25\" x2=\"25\" y2=\"75\" stroke=\"#ff5e7C\" stroke-width=\"3\" /> <line x1=\"50\" y1=\"25\" x2=\"75\" y2=\"75\" stroke=\"#ff5e7C\" stroke-width=\"3\" /> </g> <g class=\"anim-4\"> <circle cx=\"75\" cy=\"25\" r=\"5\" fill=\"#ff5e7C\" /> <line x1=\"75\" y1=\"25\" x2=\"25\" y2=\"25\" stroke=\"#ff5e7C\" stroke-width=\"3\" /> </g></svg>';\r\n\r\nclass Loading extends React.Component {\r\n    componentDidUpdate() {\r\n        const { isVisible } = this.props;\r\n        var $element = $(ReactDOM.findDOMNode(this));\r\n\r\n        if(isVisible)\r\n            $element.fadeTo(500, 1, function(){\r\n            });   \r\n        else\r\n            $element.fadeTo(500, 0, function(){\r\n                $element.hide();\r\n            });   \r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"loading\" dangerouslySetInnerHTML={{ __html: svg }} />\r\n        )\r\n    }\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    isVisible: state.layout.isPageLoadingVisible\r\n})\r\n\r\nmodule.exports = connect(stateToProps)(Loading);","const $ = require('jquery');\r\nconst { NavLink } = require('react-router-dom');\r\nconst { connect } = require('react-redux');\r\nconst PropTypes = require('prop-types');\r\n\r\nclass Menu extends React.Component {\r\n    render() {\r\n        const { menuItems } = this.props;\r\n        return (\r\n            <nav className=\"left outer-nav vertical\">\r\n                {\r\n                    menuItems.map((menuItem, index) => {\r\n                        return (\r\n                            <NavLink key={index} exact={menuItem.url == '/'} to={menuItem.url} activeClassName=\"current\">\r\n                                {menuItem.title}\r\n                            </NavLink>\r\n                        )\r\n                    })\r\n                }\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n\r\nMenu.propTypes = {\r\n    menuItems: PropTypes.array.isRequired\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    menuItems: state.menu.menuItems,\r\n});\r\n\r\nmodule.exports = connect(stateToProps, null, null, { pure: false })(Menu);","const enUS = require('./_localization/en-us');\r\n\r\nvar strings = {\r\n    'vi-VN': {\r\n    },\r\n    'en-US': enUS\r\n};\r\n\r\nclass localization {\r\n    constructor(){\r\n        this.strings = strings;\r\n    }\r\n\r\n    setLanguage(language){\r\n        this.language = language;\r\n    }\r\n\r\n    getString(string){\r\n        return this.strings[this.language][string] || string;\r\n    }\r\n}\r\n\r\nmodule.exports = new localization();","module.exports = {\r\n    'Tìm kiếm': \"Search\",\r\n    'Công trình': \"Construction\",\r\n    'Dự án': \"Project\",\r\n    'Khách<br/>sạn': \"Hotel\",\r\n    'Nhà ở': \"Home\",\r\n    'Căn<br/>hộ': \"Department\"\r\n}","const Title = require('./components/section-title');\r\nconst PageArticle = require('./components/page-article');\r\nconst Image = require('./components/image');\r\nconst RenderDelay = require('./components/_commons/delay-render');\r\n\r\nimport { default as ConnectedBreacrumbs } from './components/connected-breacrumbs'\r\nimport { default as Sidebar } from './components/sidebar';\r\nimport { default as CategoryMenu } from './components/category-menu';\r\n\r\nmodule.exports = {\r\n    RenderDelay, Title, PageArticle, Image, ConnectedBreacrumbs, Sidebar, CategoryMenu\r\n}","const DelayRender = (args = {}) => (Element) => class Component extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { ready: true };\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { delay, onRender } = args;\r\n    const d = parseInt(delay, 10);\r\n    if (d && d > 0) {\r\n      this.setState({ ready: false });\r\n      this.timeout = setTimeout(() => {\r\n        this.setState({ ready: true });\r\n        if (onRender && typeof onRender === 'function') {\r\n          onRender();\r\n        }\r\n      }, delay);\r\n    } else {\r\n      this.setState({ ready: true });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.ready) {\r\n      return (\r\n        <Element {...this.props} />\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nmodule.exports = DelayRender;","import { Route, Switch } from 'react-router'\r\nimport { ConnectedRouter } from 'react-router-redux'\r\nimport { connect } from 'react-redux'\r\nconst TrangChu = require('../../../trang-chu/index')\r\n\r\nconst renderRoute = ({ path, exact, component, childRoutes }, index) => {\r\n    const routeComponent = <Route exact={ exact } key={ path } path={ path } component={ component } />\r\n\r\n    if(childRoutes != null) {\r\n        const routeComponents = childRoutes.map(renderRoute)\r\n        routeComponents.push(routeComponent);\r\n        return (\r\n            <Switch>\r\n                { routeComponents }\r\n            </Switch>\r\n        )\r\n    }\r\n    else\r\n        return routeComponent\r\n}\r\n\r\nconst renderRoutes = ({ path, exact, component, childRoutes }) => {\r\n    const routeComponents = childRoutes.map(renderRoute);\r\n\r\n    //Root route\r\n    routeComponents.unshift(<Route exact={ exact } key={ path } path={ path } component={ component } />)\r\n\r\n    return routeComponents;\r\n}\r\n\r\nconst ExtendedConnectedRouter = ({ routes, history, wrapper }) => {\r\n    const Wrapper = wrapper\r\n    return (\r\n        <ConnectedRouter history={ history }>\r\n            <Wrapper>\r\n                {\r\n                    routes && renderRoutes(routes)\r\n                }\r\n            </Wrapper>\r\n        </ConnectedRouter>\r\n    )\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    routes: state.appRouter.routes\r\n})\r\n\r\nexport default connect(stateToProps)(ExtendedConnectedRouter)","/* global window */\r\n\r\n/**\r\n * @class Breadcrumbs\r\n * @description New breadcrumbs class based on ES6 structure.\r\n * @exports Breadcrumbs\r\n * @version 1.6\r\n * @extends component\r\n * @requires react\r\n * @requires react-router\r\n *\r\n */\r\n\r\nimport React from 'react'\r\nimport { Link } from 'react-router'\r\nimport ExecutionEnvironment from 'exenv'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Breadcrumbs extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.displayName = 'Breadcrumbs'\r\n  }\r\n\r\n  _getDisplayName(route) {\r\n    let name = null\r\n\r\n    if (typeof route.getDisplayName === 'function') {\r\n      name = route.getDisplayName.bind(null, this.props.params)()\r\n    }\r\n\r\n    if (route.indexRoute) {\r\n      name = name || route.indexRoute.displayName || null\r\n    } else {\r\n      name = name || route.displayName || null\r\n    }\r\n\r\n    // Check to see if a custom name has been applied to the route\r\n    if (!name && Boolean(route.label)) {\r\n      name = route.label\r\n    }\r\n\r\n    // If the name exists and it's in the excludes list exclude this route\r\n    // If (name && this.props.excludes.some(item => item === name)) return null\r\n\r\n    if (!name && this.props.displayMissing) {\r\n      name = this.props.displayMissingText\r\n    }\r\n\r\n    return name\r\n  }\r\n\r\n  _addKeyToElement(el) {\r\n    return (el && !el.key && el.type)\r\n      ? Object.assign({}, el, { 'key': Math.random() * 100 })\r\n      : el\r\n  }\r\n\r\n  _addKeyToArrayElements(item) {\r\n    return item.map((el) => this._addKeyToElement(el))\r\n  }\r\n\r\n  _processCustomElements(items) {\r\n    return items.map((el) => {\r\n      if (!el) {\r\n        return null\r\n      }\r\n      if (Array.isArray(el)) {\r\n        return this._addKeyToArrayElements(el)\r\n      }\r\n      return this._addKeyToElement(el)\r\n    })\r\n  }\r\n\r\n  _appendAndPrependElements(originalBreadCrumbs) {\r\n    let crumbs = []\r\n    let appendAndPrepend = this._processCustomElements([originalBreadCrumbs.shift(), originalBreadCrumbs.pop()])\r\n    if (appendAndPrepend[0]) {\r\n      crumbs.unshift(appendAndPrepend[0])\r\n    }\r\n    crumbs.push(originalBreadCrumbs[0])\r\n    if (appendAndPrepend[1]) {\r\n      crumbs.push(appendAndPrepend[1])\r\n    }\r\n\r\n    return crumbs.reduce((acc, cur) => acc.concat(cur), []).filter((e) => e)\r\n  }\r\n\r\n  _resolveRouteName(route) {\r\n    let name = this._getDisplayName(route)\r\n    if (!name && route.breadcrumbName) {\r\n      name = route.breadcrumbName\r\n    }\r\n    if (!name && route.label) {\r\n      name = route.label\r\n    }\r\n    return name\r\n  }\r\n\r\n  _processRoute(route, routesLength, lastCrumb, createElement) {\r\n    // If there is no route path defined and we are set to hide these then do so\r\n    if (!route.path && this.props.hideNoPath) {\r\n      return null\r\n    }\r\n\r\n    let separator = ''\r\n    let name = this._resolveRouteName(route)\r\n    if (name\r\n      && 'excludes' in this.props\r\n      && this.props.excludes.some((item) => item === name)) {\r\n      return null\r\n    }\r\n\r\n    let makeLink = true\r\n\r\n    // Don't make link if route doesn't have a child route\r\n    if (makeLink) {\r\n      makeLink = Boolean(route.childRoutes)\r\n    }\r\n\r\n    // Set up separator\r\n    separator = lastCrumb ? '' : this.props.separator\r\n    if (!makeLink) {\r\n      separator = ''\r\n    }\r\n\r\n    // Don't make link if route has a disabled breadcrumblink prop\r\n    if (Object.prototype.hasOwnProperty.call(route, 'breadcrumblink')) {\r\n      makeLink = route.breadcrumblink\r\n    }\r\n\r\n    // Replace route param with real param (if provided)\r\n    let currentKey = route.path.split('/')[route.path.split('/').length - 1]\r\n    let keyValue\r\n    route.path.split('/').forEach((link) => {\r\n      // If this is not a param, or we've been given no params to replace with, we need not do anything\r\n      if (link.substring(0, 1) !== ':' || !this.props.params) {\r\n        return\r\n      }\r\n\r\n      keyValue = Object.keys(this.props.params).map((param) => {\r\n        return this.props.params[param]\r\n      })\r\n      let pathWithParam = route.path.split('/').map((link) => {\r\n        if (link.substring(0, 1) === ':') {\r\n          return keyValue.shift()\r\n        }\r\n        return link\r\n      })\r\n      route.path = pathWithParam.reduce((start, link) => {\r\n        return start + '/' + link\r\n      })\r\n\r\n      if (!route.staticName && currentKey.substring(0, 1) === ':') {\r\n        if (typeof route.getDisplayName === 'function') {\r\n          name = route.getDisplayName.bind(null, this.props.params)()\r\n        } else {\r\n          name = pathWithParam.reduce((start, link) => {\r\n            return link\r\n          })\r\n        }\r\n      }\r\n\r\n      if (typeof route.prettifyParam === 'function') {\r\n        name = route.prettifyParam(name, this.props.params)\r\n      }\r\n    })\r\n\r\n    if (!name) {\r\n      return null\r\n    }\r\n\r\n    if (this.props.prettify) {\r\n      // Note: this could be replaced with a more complex prettifier\r\n      name = name.replace(/-/g, ' ')\r\n      name = name.replace(/\\w\\S*/g, function (txt) {\r\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\r\n      })\r\n    }\r\n\r\n    var link = name\r\n    var itemClass = this.props.itemClass\r\n    if (makeLink) {\r\n      if (createElement) {\r\n        link = React.createElement(\r\n          this.props.Link || Link,\r\n          { 'to': route.path },\r\n          name\r\n        )\r\n      }\r\n    } else {\r\n      itemClass += ' ' + this.props.activeItemClass\r\n    }\r\n\r\n    if (!createElement) {\r\n      return link\r\n    }\r\n    return React.createElement(\r\n      this.props.itemElement,\r\n      { 'className': itemClass, 'key': Math.random() * 100 },\r\n      link,\r\n      separator\r\n    )\r\n  }\r\n\r\n  _buildRoutes(routes, createElement, prepend, append) {\r\n    let crumbs = []\r\n    let parentPath = '/'\r\n\r\n    // Iterate over the initial list of routes and remove all that don't apply\r\n    routes = routes\r\n      .map((_route, index) => {\r\n        let route = Object.assign({}, _route)\r\n        if (typeof _route.prettifyParam === 'function') {\r\n          route.prettifyParam = _route.prettifyParam\r\n        }\r\n        if ('props' in route && 'path' in route.props) {\r\n          route.path = route.props.path\r\n          route.children = route.props.children\r\n          route.label = route.props.label\r\n          route.prettifyParam = route.props.prettifyParam\r\n        }\r\n        if (!route.path) {\r\n          return null\r\n        }\r\n        if (route.path.charAt(0) === '/') {\r\n          parentPath = route.path\r\n        } else {\r\n          if (parentPath.charAt(parentPath.length - 1) !== '/') {\r\n            parentPath += '/'\r\n          }\r\n          parentPath += route.path\r\n        }\r\n        if (index > 0 && route.path.charAt(0) !== '/') {\r\n          route.path = parentPath\r\n        }\r\n        let name = this._resolveRouteName(route)\r\n        if ((this.props.displayMissing || name) && !('excludes' in this.props && this.props.excludes.some((item) => item === name))) {\r\n          return route\r\n        }\r\n        return null\r\n      })\r\n      .filter((route) => (Boolean(route)))\r\n\r\n    // Iterate over the pruned list of routes and build the crumbs for each\r\n    crumbs = routes\r\n      .map((route, idx) => {\r\n        return this._processRoute(route, routes.length, routes.length === idx + 1, createElement)\r\n      })\r\n      .filter((crumb) => (Boolean(crumb)))\r\n\r\n    if (ExecutionEnvironment.canUseDOM\r\n      && window\r\n      && window.document\r\n      && 'setDocumentTitle' in this.props\r\n      && this.props.setDocumentTitle\r\n      && crumbs[crumbs.length - 1].props.children[0] > 0) {\r\n      window.document.title = crumbs[crumbs.length - 1].props.children[0].props.children\r\n    }\r\n\r\n    if (prepend || append) {\r\n      crumbs = this._appendAndPrependElements([prepend, crumbs, append])\r\n    }\r\n\r\n    if (!createElement) {\r\n      return crumbs\r\n    }\r\n\r\n    return React.createElement(\r\n      this.props.wrapperElement,\r\n      { 'className': this.props.customClass || this.props.wrapperClass },\r\n      crumbs\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return this._buildRoutes(this.props.routes, this.props.createElement, this.props.prepend, this.props.append)\r\n  }\r\n}\r\n\r\n/**\r\n * @property PropTypes\r\n * @description Property types supported by this component\r\n * @type {{separator: *, createElement: *, displayMissing: *, wrapperElement: *, wrapperClass: *, itemElement: *, itemClass: *, activeItemClass: *,  customClass: *,excludes: *, append: *, prepend: *, params: *, Link: *}}\r\n */\r\nBreadcrumbs.propTypes = {\r\n  'params': PropTypes.object.isRequired,\r\n  'prepend': PropTypes.oneOfType([\r\n    PropTypes.node,\r\n    PropTypes.bool\r\n  ]),\r\n  'append': PropTypes.oneOfType([\r\n    PropTypes.node,\r\n    PropTypes.bool\r\n  ]),\r\n  'separator': PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.string\r\n  ]),\r\n  'createElement': PropTypes.bool,\r\n  'Link': PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.string\r\n  ]),\r\n  'displayMissing': PropTypes.bool,\r\n  'prettify': PropTypes.bool,\r\n  'displayMissingText': PropTypes.string,\r\n  'wrapperElement': PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.string\r\n  ]),\r\n  'wrapperClass': PropTypes.string,\r\n  'itemElement': PropTypes.oneOfType([\r\n    PropTypes.element,\r\n    PropTypes.string\r\n  ]),\r\n  'itemClass': PropTypes.string,\r\n  'customClass': PropTypes.string,\r\n  'activeItemClass': PropTypes.string,\r\n  'excludes': PropTypes.arrayOf(PropTypes.string),\r\n  'hideNoPath': PropTypes.bool,\r\n  'routes': PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  'setDocumentTitle': PropTypes.bool\r\n}\r\n\r\n/**\r\n * @property defaultProps\r\n * @description sets the default values for propTypes if they are not provided\r\n * @type {{separator: string, displayMissing: boolean, wrapperElement: string, itemElement: string, wrapperClass: string, customClass: string, prepend: false, append: false}}\r\n */\r\nBreadcrumbs.defaultProps = {\r\n  'prepend': false,\r\n  'append': false,\r\n  'separator': '',\r\n  'createElement': true,\r\n  'displayMissing': true,\r\n  'displayMissingText': 'Missing name prop from Route',\r\n  'wrapperElement': 'div',\r\n  'wrapperClass': 'breadcrumbs',\r\n  'itemElement': 'span',\r\n  'itemClass': '',\r\n  'activeItemClass': '',\r\n  'excludes': [''],\r\n  'prettify': false,\r\n  'hideNoPath': true,\r\n  'setDocumentTitle': false\r\n}\r\n\r\nexport default Breadcrumbs","import listToTree from 'list-to-tree'\r\nimport { Collapse } from 'reactstrap'\r\nimport classNames from 'classnames'\r\n\r\nclass CategoryMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const { categories, openListByDefault } = props\r\n\r\n        const tree = new listToTree(categories, { key_parent: 'parentId', key_child: 'children' }).GetTree()\r\n\r\n        var collapse = {}\r\n\r\n        for(var index in categories){\r\n            collapse[categories[index].name] = openListByDefault\r\n        }\r\n\r\n        this.state = {\r\n            collapse,\r\n            tree\r\n        }\r\n\r\n        this.renderCategories = this.renderCategories.bind(this)\r\n        this.renderCategory = this.renderCategory.bind(this)\r\n    }\r\n\r\n    renderCategories(categoryItems) {\r\n        return (\r\n            <ul className=\"category-menu-dropdown\">\r\n                {\r\n                    categoryItems.map((categoryItem, index) => {\r\n                        return this.renderCategory(categoryItem)\r\n                    })\r\n                }\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    renderCategory({ title, id, name, children }, className) {\r\n        const { onDataFetch, currentCategory } = this.props\r\n\r\n        return (\r\n            <li id={ id && `category-${id}` } data-name={ name } className={classNames(\"category-menu-item\", className, {'current': currentCategory && currentCategory.id === id })} >\r\n                <a href=\"#\" className=\"all category-menu-item-link\" onClick={ (e) => { \r\n                    e.preventDefault();\r\n                    onDataFetch({currentCategory: { title, id, name }}, 0) } }>\r\n                    { title }\r\n                </a>\r\n                {\r\n                                        children && (\r\n                        <span className=\"chevron\" onClick={() => { this.toogle(name) }}>\r\n                            <i className=\"fa fa-angle-down\" aria-hidden=\"true\" />\r\n                        </span>\r\n                    )\r\n                }\r\n                {\r\n                    children && (\r\n                        <Collapse isOpen={ this.state.collapse[ name ] }>\r\n                            {this.renderCategories(children)}\r\n                        </Collapse>\r\n                    )\r\n                }\r\n            </li>\r\n        )\r\n    }\r\n\r\n    toogle(name) {\r\n        const { collapse } = this.state;\r\n        this.setState({collapse: $.extend(true, {}, collapse, {[name]: !collapse[name]})})\r\n    }\r\n\r\n    render() {\r\n        const  {currentCategory} = this.props;\r\n        const { tree } = this.state;\r\n        return (\r\n            <section className=\"category-menu\">\r\n                <ul className=\"category-menu-list d-none d-lg-block\">\r\n                    { this.renderCategory({ title: localizationString.getString('Tất cả') }, !currentCategory && 'current') }\r\n                    {\r\n                        tree && tree.map((item) => {\r\n                                return this.renderCategory(item)\r\n                        })\r\n                    }\r\n                </ul>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nCategoryMenu.defaultProps = {\r\n    categories: [],\r\n    openListByDefault: true\r\n}\r\n\r\nexport default CategoryMenu","import { Container } from 'reactstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { default as Breadcrumbs } from './breacrumbs'\r\nimport { connect } from 'react-redux';\r\n\r\nconst ConnectedBreadcrumbs = (props) => {\r\n    const { routes, params } = props;\r\n    if (routes)\r\n        return (\r\n            <Container className=\"d-none d-lg-block mb-lg-4\">\r\n                <Breadcrumbs Link={ Link } routes={ routes } params={ params } setDocumentTitle={ true } />\r\n            </Container>\r\n        )\r\n    else\r\n        return null\r\n}\r\n\r\nconst stateToProps = (state) => ({\r\n    routes: state.appRouter.routePath\r\n});\r\n\r\n\r\nexport default connect(stateToProps)(ConnectedBreadcrumbs)","const { Link } = require('react-router-dom');\r\n\r\nclass DuAn extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.renderLink = this.renderLink.bind(this);\r\n    }\r\n\r\n    renderLink(title) {\r\n        return(\r\n            <Link to=\"/du-an\"><span>{title}</span></Link>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { data: { thumbnailUrl, title} } = this.props;\r\n\r\n        return (\r\n            <div data-aos=\"zoom-in-up\">\r\n                <div className=\"page-item-thumbnail\">\r\n                    <img className=\"w-100\" src={`/${thumbnailUrl}`}/>\r\n                    <div className=\"overlay\"/>\r\n                    {this.renderLink(localizationString.getString(\"Chi tiết\"))}\r\n                </div>\r\n                <div className=\"page-item-title\">\r\n                    {this.renderLink(title)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = DuAn;","module.exports = (props) => {\r\n    const { url, title, description, className } = props;\r\n\r\n    return (\r\n        <img className={`w-100 ${className}`} src={`/${url}`} title={title} alt={description}/>\r\n    );\r\n}","const classnames = require('classNames');\r\nconst { Container, Row } = require('reactstrap');\r\nconst Title = require('./section-title');\r\nconst Image = require('./image');\r\n\r\nconst renderArticle = (props) => {\r\n    const { className, thumbnail, title, content } = props;\r\n    return (\r\n        <article className={classnames(className)}>\r\n            <Container fluid className=\"mb-5\">\r\n                <Row>\r\n                    <Image className=\"h-100\" {...thumbnail} />\r\n                </Row>\r\n            </Container>\r\n            <Container>\r\n                <Title>{title}</Title>\r\n                <div className=\"ml-3 mr-3 ml-lg-0 mr-lg-0\" dangerouslySetInnerHTML={{ __html: content }} />\r\n            </Container>\r\n        </article>\r\n    );\r\n}\r\n\r\nmodule.exports = renderArticle;","module.exports = (props) => {\r\n    return (\r\n        <div className=\"section-title w-100 text-center mb-3 mb-lg-4 mb-lg-5\">\r\n            <h2 className=\"title\">\r\n                {props.children}\r\n            </h2>\r\n        </div>\r\n    );\r\n}","class Sidebar extends React.Component {\r\n    render() {\r\n        const { children } = this.props\r\n        return (\r\n            <aside className=\"sidebar mr-lg-4\">\r\n                { children }\r\n            </aside>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar","﻿const { combineReducers } = require('redux');\r\nconst { routerReducer } = require('react-router-redux');\r\n\r\n//reducers\r\nconst localization = require('./reducers/localization').reducer;\r\nconst menu = require('./_layout/header/menu').reducer;\r\nconst layout = require('./_layout').reducer;\r\nconst connectedBasePage = require('./_layout/main/connected-base-page').reducer;\r\n\r\nimport { reducer as appRouter } from '../routes'\r\n\r\nconst reducer = combineReducers({\r\n    layout,\r\n    localization,\r\n    menu,\r\n    connectedBasePage,\r\n    router: routerReducer,\r\n    appRouter\r\n})\r\n\r\nmodule.exports = reducer;","﻿const $ = require('jquery');\r\n\r\nconst keys = {\r\n    init: \"INIT\",\r\n    swithLanguage: \"SWITH_LANGUAGE\",\r\n}\r\n\r\nconst actions = {\r\n    swithLanguage: (language) => ({\r\n        type: keys.swithLanguage,\r\n        language\r\n    }),\r\n\r\n    //initState:\r\n    // - languages\r\n    // - currentLanguage\r\n    init: (initState) => ({\r\n        type: keys.init,\r\n        initState\r\n    })\r\n}\r\n\r\nconst reducer = (state = {}, action) => {\r\n    const newState = $.extend(true, {}, state);\r\n    switch (action.type) {\r\n        case keys.init:\r\n            return action.initState;\r\n        case keys.swithLanguage:\r\n            newState.currentLanguage = actions.language;\r\n            break;\r\n        default:\r\n            return state;\r\n    }\r\n    return newState;\r\n}\r\n\r\nmodule.exports = {\r\n    actions,\r\n    reducer\r\n}","import dataRequest from './ultilities/requestData';\r\n\r\nexport { dataRequest }","const requestData = (url, pageSize, page, sorted, filtering, taxonomies, callback) => {\r\n    $.ajax({\r\n        url,\r\n        method: \"POST\",\r\n        data: { pageSize, page, sorted, filtering, taxonomies },\r\n        success: callback\r\n    });\r\n}\r\nmodule.exports = requestData\r\n","﻿\r\nconst $ = require('jquery');\r\nconst classNames = require('classnames');\r\n\r\nconst { Link } = require('react-router-dom');\r\nconst { Row, Col } = require('reactstrap');\r\nconst Title = require('../../shared/components/section-title');\r\n\r\nmodule.exports = class extends React.Component {  \r\n    render() {\r\n        return (\r\n            <section className={classNames('cong-trinh', this.props.className)}>\r\n                <Title>{localizationString.getString('Công trình')}</Title>\r\n                <Row className=\"mt-2\">\r\n                    <Col xs=\"12\" md={6} className=\"pr-1\">\r\n                        <Row className=\"mb-2\">\r\n                            <Col>\r\n                                <div data-aos=\"fade-left\">\r\n                                    <div className=\"link link-khach-san\">\r\n                                        <Link className=\"title\" to=\"/\" dangerouslySetInnerHTML={{ __html: localizationString.getString(\"Khách<br/>sạn\") }} />\r\n                                    </div>\r\n                                    <img className=\"w-100\" src=\"/img/khach-san-cover.jpg\" />\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <div data-aos=\"fade-left\">\r\n                                    <div className=\"link link-can-ho\">\r\n                                        <Link className=\"title\" to=\"/\" dangerouslySetInnerHTML={{ __html: localizationString.getString(\"Căn<br/>hộ\") }} />\r\n                                    </div>\r\n                                    <img className=\"w-100\" src=\"/img/can-ho-cover.jpg\" />\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col xs=\"12\" md={6} className=\"pl-1\">\r\n                        <div className=\"h-100\" data-aos=\"flip-left\" data-aos-delay=\"300\">\r\n                            <div className=\"link link-nha-o\">\r\n                                <Link className=\"title\" to=\"/\" dangerouslySetInnerHTML={{ __html: localizationString.getString(\"Nhà ở\") }} />\r\n                            </div>\r\n                            <img className=\"h-100 w-100\" src=\"/img/nha-o-cover.jpg\" />\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </section>\r\n        );\r\n    }\r\n}","const { Row, Col } = require( 'reactstrap' );\r\nconst { Link } = require( 'react-router-dom' );\r\n\r\nconst SectionTitle = require( '../../shared/components/section-title' );\r\n\r\nconst DuAnItem = require( '../../shared/components/du-an/du-an' );\r\n\r\nconst { dataRequest } = require( '../../shared/ultilities' );\r\n\r\nclass DuAn extends React.Component {\r\n    constructor( props ) {\r\n        super( props );\r\n        this.state = {\r\n            projects: []\r\n        }\r\n\r\n        dataRequest( \"/project/GetTableData\", 7, 1, null, null, null, ( response ) => {\r\n            this.setState( { projects: response } );\r\n        } );\r\n    }\r\n    render() {\r\n        return (\r\n            <section className={ this.props.className }>\r\n                <SectionTitle>{ localizationString.getString( 'Dự án' ) }</SectionTitle>\r\n                <Row className=\"pt-3\">\r\n                    {\r\n                        this.state.projects.length &&\r\n                        this.state.projects.map(( project, index ) => {\r\n                            return (\r\n                                <Col key={ project.id } xs=\"6\" md=\"4\" lg=\"3\" className=\"page-item\">\r\n                                    <DuAnItem data={ project } />\r\n                                </Col>\r\n                            );\r\n                        } )\r\n                    }\r\n                    <Col xs=\"6\" md=\"4\" lg=\"3\" className=\"page-item\">\r\n                        <div className=\"h-100\" data-aos=\"zoom-in-up\">\r\n                            <div className=\"project-load-more\">\r\n                                <div className=\"overlay\" />\r\n                                <div className=\"content mr-3 mr-lg-5\">\r\n                                    <h5 className=\"cant-find\"> can’t find<br /> your project</h5>\r\n                                    <div className=\"dots clearfix\">\r\n                                        <div className=\"dot\" />\r\n                                        <div className=\"dot\" />\r\n                                        <div className=\"dot\" />\r\n                                        <div className=\"dot\" />\r\n                                    </div>\r\n                                    <div className=\"mt-4\">\r\n                                        <Link to=\"/du-an\" className=\"btn-white mt-4\">Load more</Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = DuAn;","﻿\r\nconst $ = require('jquery');\r\nconst OwlCarousel = require('react-owl-carousel2');\r\n\r\nclass Slider extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            slides: []\r\n            /* Chú ý: slides không phải là một array của hình ảnh.\r\n            Ví dụ cho 'slides'\r\n                slides: [\r\n                    {\r\n                        \"image\": {\r\n                            \"urlThumb\": \"uploads/2/2017/6/slider-2-2017-6-9-310_thumb.jpg\",\r\n                            \"dimension\": \"Size [ Width=1058, Height=463 ]\",\r\n                            \"title\": \"slider-2\",\r\n                            \"description\": null,\r\n                            \"fileName\": null,\r\n                            \"url\": \"uploads/2/2017/6/slider-2-2017-6-9-310.jpg\",\r\n                            \"type\": \"Image\",\r\n                            \"extension\": \".jpg\",\r\n                            \"size\": \"194 KB\",\r\n                            \"taxonomyTypes\": null\r\n                        }\r\n                    },...\r\n                ]\r\n            Hình ảnh('image') chỉ là một prop của 'slide', và còn một số prop khác như caption, etc... sẽ được thêm vào sau này nếu cần thiết.\r\n            */,\r\n            options: {\r\n                items: 1,\r\n                nav: false,\r\n                rewind: false,\r\n                autoplay: true\r\n            }\r\n        };\r\n        $.get(\r\n            \"/album/getsingle?entityName=home-slider\",\r\n            (response) => {\r\n                this.setState({slides: response.details.images})\r\n            }\r\n        );\r\n    }\r\n\r\n    componentWillUpdate(){\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className={this.props.className}>\r\n                { this.state.slides.length && \r\n                    <OwlCarousel ref={owl => {this.owl = owl;}} options={this.state.options}>\r\n                    {\r\n                        this.state.slides.map((slide, index) => {\r\n                            return(\r\n                                <div key={index} id={`slide${index}`}>\r\n                                    <img src={slide.image.url} alt={slide.image.description} title={slide.image.title}/>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    </OwlCarousel>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nmodule.exports = Slider;","﻿\r\nconst { Container } = require('reactstrap');\r\nconst Slider = require('./components/slider');\r\nconst ConTrinh = require('./components/cong-trinh');\r\nconst DuAn = require('./components/du-an');\r\n\r\nconst BasePage = require('../shared/_layout/main/base-page');\r\n\r\nclass PageComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { onError, onDataFetch, dataFetchProgress } = this.props;\r\n\r\n        if(dataFetchProgress != 100)\r\n            $.get('/', function (response) {\r\n                if (!response)\r\n                    onError('Error');\r\n                else\r\n                    onDataFetch({ temp: response }, 100);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { dataFetchProgress } = this.props;\r\n\r\n        if (dataFetchProgress != 100)\r\n            return null;\r\n\r\n        return (\r\n            <div id=\"gioi-thieu\">\r\n                <Slider className=\"mb-lg-5\" />\r\n                <Container className=\"pt-5\">\r\n                    <ConTrinh className=\"mb-3 mb-md-5\" />\r\n                    <DuAn className=\"pt-5\" />\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = BasePage({ page: 'trang-chu' })(PageComponent);","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXZlbG9wXFxzY3JpcHRzXFxkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm4uanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxiby1zdXUtdGFwXFxjb21wb25lbnRzXFxwYWdlLWl0ZW0uanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxiby1zdXUtdGFwXFxpbmRleC5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXGNvbmctdHJpbmhcXGNvbXBvbmVudHNcXHBhZ2UtaXRlbS5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXGNvbmctdHJpbmhcXGluZGV4LmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcZ2lvaS10aGlldVxcY29tcG9uZW50c1xccXV5LXRyaW5oLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcZ2lvaS10aGlldVxcaW5kZXguanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxyb290LmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxccm91dGVzLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0LmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxmb290ZXIuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXF9sYXlvdXRcXGZvb3RlclxcY29weS1yaWdodC5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xheW91dFxcZm9vdGVyXFxtZW51LmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxmb290ZXJcXHNvY2lhbHMuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXF9sYXlvdXRcXGhlYWRlci5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xheW91dFxcaGVhZGVyXFxkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xheW91dFxcaGVhZGVyXFxoZWFkZXItbW9iaWxlLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxoZWFkZXJcXGxhbmd1YWdlLXNlbGVjdC5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xheW91dFxcaGVhZGVyXFxsb2dvLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxoZWFkZXJcXG1lbnUuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXF9sYXlvdXRcXGhlYWRlclxcc2VhcmNoLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxtYWluXFxiYXNlLXBhZ2UuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXF9sYXlvdXRcXG1haW5cXGRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxtYWluXFxjb25uZWN0ZWQtYmFzZS1wYWdlLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxfbGF5b3V0XFxtYWluXFxwYWdlLWxvYWRpbmcuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXF9sYXlvdXRcXG1vYmlsZVxcbWVudS5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xvY2FsaXphdGlvbi5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHNoYXJlZFxcX2xvY2FsaXphdGlvblxcZW4tdXMuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHMuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXF9jb21tb25zXFxkZWxheS1yZW5kZXIuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXF9jb21tb25zXFxleHRlbmRlZC1Db25uZWN0ZWRSb3V0ZXIuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXGJyZWFjcnVtYnMuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXGNhdGVnb3J5LW1lbnUuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXGNvbm5lY3RlZC1icmVhY3J1bWJzLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxjb21wb25lbnRzXFxkdS1hblxcZHUtYW4uanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXGltYWdlLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcc2hhcmVkXFxjb21wb25lbnRzXFxwYWdlLWFydGljbGUuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXHNlY3Rpb24tdGl0bGUuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXGNvbXBvbmVudHNcXHNpZGViYXIuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXHJlZHVjZXIuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXHJlZHVjZXJzXFxsb2NhbGl6YXRpb24uanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXHVsdGlsaXRpZXMuanN4IiwiZGV2ZWxvcFxcc2NyaXB0c1xcZGJncm91cHZuXFxzaGFyZWRcXHVsdGlsaXRpZXNcXHJlcXVlc3REYXRhLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcdHJhbmctY2h1XFxjb21wb25lbnRzXFxjb25nLXRyaW5oLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcdHJhbmctY2h1XFxjb21wb25lbnRzXFxkdS1hbi5qc3giLCJkZXZlbG9wXFxzY3JpcHRzXFxkYmdyb3Vwdm5cXHRyYW5nLWNodVxcY29tcG9uZW50c1xcc2xpZGVyLmpzeCIsImRldmVsb3BcXHNjcmlwdHNcXGRiZ3JvdXB2blxcdHJhbmctY2h1XFxpbmRleC5qc3giLCJub2RlX21vZHVsZXMvY2xhc3NOYW1lcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9leGVudi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy91bmRlcnNjb3JlL3VuZGVyc2NvcmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNlQTs7ZUFmb0IsUUFBUSxXQUFSLEM7SUFBWCxNLFlBQUEsTTs7Z0JBQ2dDLFFBQVEsT0FBUixDO0lBQWpDLFcsYUFBQSxXO0lBQWEsZSxhQUFBLGU7O2dCQUNjLFFBQVEsb0JBQVIsQztJQUEzQixnQixhQUFBLGdCO0lBQWtCLEksYUFBQSxJOztnQkFFQSxRQUFRLHNCQUFSLEM7SUFBbEIsTyxhQUFBLE87SUFBUyxJLGFBQUEsSTs7QUFDakIsSUFBTSxlQUFlLFFBQVEsNEJBQVIsRUFBc0MsWUFBM0Q7O0FBRUEsSUFBTSxVQUFVLFFBQVEsNEJBQVIsQ0FBaEI7QUFDQSxJQUFNLGFBQWEsaUJBQWlCLE9BQWpCLENBQW5COztBQUVBLElBQU0sUUFBUSxZQUFZLE9BQVosRUFBcUIsZ0JBQWdCLFVBQWhCLEVBQTRCLFlBQTVCLENBQXJCLENBQWQ7O0FBRUEsSUFBTSxtQkFBbUIsUUFBUSwwQ0FBUixFQUFvRCxPQUFwRCxDQUE0RCxJQUFyRjtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwi77u/Y29uc3QgeyByZW5kZXIgfSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xyXG5jb25zdCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUgfSA9IHJlcXVpcmUoJ3JlZHV4Jyk7XHJcbmNvbnN0IHsgcm91dGVyTWlkZGxld2FyZSwgcHVzaCB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLXJlZHV4Jyk7XHJcblxyXG5jb25zdCB7IGhpc3RvcnksIFJvb3QgfSA9IHJlcXVpcmUoJy4vZGJncm91cHZuL3Jvb3QuanN4Jyk7XHJcbmNvbnN0IHVwZGF0ZUxheW91dCA9IHJlcXVpcmUoJy4vZGJncm91cHZuL3NoYXJlZC9fbGF5b3V0JykudXBkYXRlTGF5b3V0O1xyXG5cclxuY29uc3QgcmVkdWNlciA9IHJlcXVpcmUoJy4vZGJncm91cHZuL3NoYXJlZC9yZWR1Y2VyJyk7XHJcbmNvbnN0IG1pZGRsZXdhcmUgPSByb3V0ZXJNaWRkbGV3YXJlKGhpc3RvcnkpXHJcblxyXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGFwcGx5TWlkZGxld2FyZShtaWRkbGV3YXJlLCB1cGRhdGVMYXlvdXQpKTtcclxuXHJcbmNvbnN0IGluaXRMb2NhbGl6YXRpb24gPSByZXF1aXJlKCcuL2RiZ3JvdXB2bi9zaGFyZWQvcmVkdWNlcnMvbG9jYWxpemF0aW9uJykuYWN0aW9ucy5pbml0O1xyXG5jb25zdCBpbml0TWVudSA9IHJlcXVpcmUoJy4vZGJncm91cHZuL3NoYXJlZC9fbGF5b3V0L2hlYWRlci9tZW51JykuYWN0aW9ucy5pbml0O1xyXG5cclxuaW1wb3J0IHsgSU5JVF9ST1VURVMgfSBmcm9tICcuL2RiZ3JvdXB2bi9yb3V0ZXMnO1xyXG5cclxuZ2xvYmFsLmxvY2FsaXphdGlvblN0cmluZyA9IHJlcXVpcmUoJy4vZGJncm91cHZuL3NoYXJlZC9fbG9jYWxpemF0aW9uJyk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogXCIvRGJHcm91cFZuL0dldFNpdGVJbml0RGF0YVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IChyZXNwb25zZSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaW5pdExvY2FsaXphdGlvbihyZXNwb25zZS5sb2NhbGl6YXRpb24pKVxyXG4gICAgICAgICAgICBnbG9iYWwubG9jYWxpemF0aW9uU3RyaW5nLnNldExhbmd1YWdlKHJlc3BvbnNlLmxvY2FsaXphdGlvbi5jdXJyZW50TGFuZ3VhZ2UpXHJcblxyXG4gICAgICAgICAgICAvL1JvdXRlc1xyXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCh7dHlwZTogSU5JVF9ST1VURVN9KVxyXG5cclxuICAgICAgICAgICAgLy9LaOG7n2kgdOG6oW8gZ2nDoSB0cuG7iyBt4bq3YyDEkeG7i25oIGNobyBjb21wb25lbnRzICAgICBcclxuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goaW5pdE1lbnUocmVzcG9uc2UubWVudSkpXHJcblxyXG4gICAgICAgICAgICByZW5kZXIoXHJcbiAgICAgICAgICAgICAgICA8Um9vdCBzdG9yZT17c3RvcmV9IC8+LFxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIG9uRWxlbWVudEhlaWdodENoYW5nZShlbG0sIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgbGFzdEhlaWdodCA9IGVsbS5jbGllbnRIZWlnaHQsIG5ld0hlaWdodDtcclxuICAgIChmdW5jdGlvbiBydW4oKSB7XHJcbiAgICAgICAgbmV3SGVpZ2h0ID0gZWxtLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZiAobGFzdEhlaWdodCAhPSBuZXdIZWlnaHQpXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgbGFzdEhlaWdodCA9IG5ld0hlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcilcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcik7XHJcblxyXG4gICAgICAgIGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lciA9IHNldFRpbWVvdXQocnVuLCAyMDApO1xyXG4gICAgfSkoKTtcclxufVxyXG5cclxuLy9O4bq/dSBoZWlnaHQgY+G7p2EgYm9keSB0aGF5IMSR4buVaSB0aMOsIHJlZnJlc2ggQU9TXHJcbm9uRWxlbWVudEhlaWdodENoYW5nZShkb2N1bWVudC5ib2R5LCBmdW5jdGlvbiAoKSB7XHJcbiAgICBBT1MucmVmcmVzaCgpO1xyXG59KTsiLCJjb25zdCB7IExpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlci1kb20nKTtcclxuXHJcbmNsYXNzIFBhZ2VJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJMaW5rID0gdGhpcy5yZW5kZXJMaW5rLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTGluayh0aXRsZSkge1xyXG4gICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgPExpbmsgdG89XCIvYm8tc3V1LXRhcFwiPjxzcGFuPnt0aXRsZX08L3NwYW4+PC9MaW5rPlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHRodW1ibmFpbFVybCwgdGl0bGUsIGFjcmVhZ2V9IH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWl0ZW0tdGh1bWJuYWlsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJ3LTEwMFwiIHNyYz17YC8ke3RodW1ibmFpbFVybH1gfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVybGF5XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxpbmsobG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyhcIkNoaSB0aeG6v3RcIikpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaXRlbS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxpbmsodGl0bGUpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImV4dHJhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgYWNyZWFnZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUGFnZUl0ZW07IiwiY29uc3QgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSA9IHJlcXVpcmUoJ3JlZHV4Jyk7XHJcbmNvbnN0IHsgY29ubmVjdCB9ID0gcmVxdWlyZSgncmVhY3QtcmVkdXgnKVxyXG5cclxuaW1wb3J0IHsgQ29udGFpbmVyLCBSb3csIENvbCB9IGZyb20gJ3JlYWN0c3RyYXAnXHJcbmltcG9ydCBCYXNlUGFnZSBmcm9tICcuLi9zaGFyZWQvX2xheW91dC9tYWluL2Jhc2UtcGFnZSdcclxuaW1wb3J0IHsgcmVmcmVzaFJvdXRlUGF0aCB9IGZyb20gJy4uL3JvdXRlcydcclxuXHJcbmltcG9ydCB7IFNpZGViYXIsIEltYWdlLCBDYXRlZ29yeU1lbnUgfSBmcm9tICcuLi9zaGFyZWQvY29tcG9uZW50cydcclxuXHJcbmltcG9ydCB7IGRhdGFSZXF1ZXN0IH0gZnJvbSAnLi4vc2hhcmVkL3VsdGlsaXRpZXMnXHJcbmltcG9ydCBQYWdlSXRlbSBmcm9tICcuL2NvbXBvbmVudHMvcGFnZS1pdGVtJ1xyXG5cclxuY2xhc3MgUGFnZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyU2lkZWJhciA9IHRoaXMucmVuZGVyU2lkZWJhci5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5mZXRjaERhdGEgPSB0aGlzLmZldGNoRGF0YS5iaW5kKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgICAgIGNvbnN0IHsgb25FcnJvciwgb25EYXRhRmV0Y2gsIHJlZnJlc2hSb3V0ZVBhdGgsIGNhdGVnb3JpZXMsIHBhZ2UsIGl0ZW1zLCBjdXJyZW50Q2F0ZWdvcnkgIH0gPSB0aGlzLnByb3BzXHJcblxyXG4gICAgICAgIGlmICghcGFnZSlcclxuICAgICAgICAgICAgJC5nZXQoJy9wYWdlL2dldHNpbmdsZT9lbnRpdHlOYW1lPWJvLXN1dS10YXAnLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIG9uRGF0YUZldGNoKHsgcGFnZTogcmVzcG9uc2UuZGV0YWlscyB9LCA1MCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgaWYgKCFjYXRlZ29yaWVzKVxyXG4gICAgICAgICAgICAkLmdldCgnL1RheG9ub215VUkvR2V0VGF4b25vbWllcycsIHsgdGF4b25vbXlUeXBlSWQ6IDMwMDAzIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgb25EYXRhRmV0Y2goeyBjYXRlZ29yaWVzOiByZXNwb25zZSB9LCA1MClcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKCFpdGVtcylcclxuICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoY3VycmVudENhdGVnb3J5KVxyXG5cclxuICAgICAgICByZWZyZXNoUm91dGVQYXRoKCdiby1zdXUtdGFwJylcclxuICAgIH1cclxuXHJcbiAgICBmZXRjaERhdGEoY3VycmVudENhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IG9uRGF0YUZldGNoIH0gPSB0aGlzLnByb3BzXHJcblxyXG4gICAgICAgICAgICBkYXRhUmVxdWVzdCgnL2NvbGxlY3Rpb24vZ2V0dGFibGVkYXRhJywgOSwgMSwgbnVsbCwgbnVsbCwgY3VycmVudENhdGVnb3J5ICYmIHsgMzAwMDM6IGN1cnJlbnRDYXRlZ29yeS5pZCB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIG9uRGF0YUZldGNoKHsgaXRlbXM6IHJlc3BvbnNlIH0sIDApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpe1xyXG4gICAgICAgIGNvbnN0IHtjdXJyZW50Q2F0ZWdvcnl9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZihjdXJyZW50Q2F0ZWdvcnkgJiYgbmV4dFByb3BzLmN1cnJlbnRDYXRlZ29yeSAmJiBjdXJyZW50Q2F0ZWdvcnkuaWQgIT0gbmV4dFByb3BzLmN1cnJlbnRDYXRlZ29yeS5pZClcclxuICAgICAgICB0aGlzLmZldGNoRGF0YShuZXh0UHJvcHMuY3VycmVudENhdGVnb3J5KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNpZGViYXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yaWVzLCBvbkRhdGFGZXRjaCwgY3VycmVudENhdGVnb3J5IH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8U2lkZWJhcj5cclxuICAgICAgICAgICAgICAgIHsgY2F0ZWdvcmllcyAmJiA8Q2F0ZWdvcnlNZW51IGN1cnJlbnRDYXRlZ29yeT17Y3VycmVudENhdGVnb3J5fSBjYXRlZ29yaWVzPXsgY2F0ZWdvcmllcyB9IG9uRGF0YUZldGNoPXtvbkRhdGFGZXRjaH0vPiB9XHJcbiAgICAgICAgICAgIDwvU2lkZWJhcj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFGZXRjaFByb2dyZXNzICE9IDEwMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgcGFnZTogeyB0aHVtYm5haWwgfSwgY2F0ZWdvcmllcywgaXRlbXMgLCBjdXJyZW50Q2F0ZWdvcnl9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRhaW5lciBpZD1cImJvLXN1dS10YXBcIj5cclxuICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCBsZz1cIjNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclNpZGViYXIoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjEyXCIgbGc9XCI5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZSB7Li4udGh1bWJuYWlsfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGl0bGVzIG10LTQgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPntsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiQuG7mSBzxrB1IHThuq1wXCIpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnw8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYWdlLXRpdGxlXCI+e2N1cnJlbnRDYXRlZ29yeSA/IGN1cnJlbnRDYXRlZ29yeS50aXRsZSA6bG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyhcIlThuqV0IGPhuqNcIikgfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBrZXk9eyBpdGVtLmlkIH0geHM9XCI2XCIgbGc9XCI0XCIgY2xhc3NOYW1lPVwicGFnZS1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhZ2VJdGVtIGRhdGE9eyBpdGVtIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuXHJcbn0pXHJcblxyXG5jb25zdCBkaXNwYXRoVG9Qcm9wcyA9IChkaXNwYXRoKSA9PiAoXHJcbiAgICBiaW5kQWN0aW9uQ3JlYXRvcnMoeyByZWZyZXNoUm91dGVQYXRoIH0sIGRpc3BhdGgpXHJcbilcclxuXHJcbmNvbnN0IENvbm5lY3RlZFBhZ2VDb21wb25lbnQgPSBjb25uZWN0KHN0YXRlVG9Qcm9wcywgZGlzcGF0aFRvUHJvcHMpKFBhZ2VDb21wb25lbnQpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VQYWdlKHsgcGFnZTogJ2JvLXN1dS10YXAnLCBzaG93QnJlYWRjcnVtYnM6IHRydWUgfSkoQ29ubmVjdGVkUGFnZUNvbXBvbmVudCk7IiwiY29uc3QgeyBMaW5rIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XHJcblxyXG5jbGFzcyBQYWdlSXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyTGluayA9IHRoaXMucmVuZGVyTGluay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckxpbmsodGl0bGUpIHtcclxuICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL2NvbmctdHJpbmhcIj48c3Bhbj57dGl0bGV9PC9zcGFuPjwvTGluaz5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB0aHVtYm5haWxVcmwsIHRpdGxlLCBhY3JlYWdlfSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1pdGVtLXRodW1ibmFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwidy0xMDBcIiBzcmM9e2AvJHt0aHVtYm5haWxVcmx9YH0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiLz5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJMaW5rKGxvY2FsaXphdGlvblN0cmluZy5nZXRTdHJpbmcoXCJDaGkgdGnhur90XCIpKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJMaW5rKHRpdGxlKX1cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJleHRyYVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGFjcmVhZ2UgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VJdGVtOyIsImNvbnN0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gPSByZXF1aXJlKCdyZWR1eCcpO1xyXG5jb25zdCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4JylcclxuXHJcbmltcG9ydCB7IENvbnRhaW5lciwgUm93LCBDb2wgfSBmcm9tICdyZWFjdHN0cmFwJ1xyXG5pbXBvcnQgQmFzZVBhZ2UgZnJvbSAnLi4vc2hhcmVkL19sYXlvdXQvbWFpbi9iYXNlLXBhZ2UnXHJcbmltcG9ydCB7IHJlZnJlc2hSb3V0ZVBhdGggfSBmcm9tICcuLi9yb3V0ZXMnXHJcblxyXG5pbXBvcnQgeyBTaWRlYmFyLCBJbWFnZSwgQ2F0ZWdvcnlNZW51IH0gZnJvbSAnLi4vc2hhcmVkL2NvbXBvbmVudHMnXHJcblxyXG5pbXBvcnQgeyBkYXRhUmVxdWVzdCB9IGZyb20gJy4uL3NoYXJlZC91bHRpbGl0aWVzJ1xyXG5pbXBvcnQgUGFnZUl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL3BhZ2UtaXRlbSdcclxuXHJcbmNsYXNzIFBhZ2VDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnJlbmRlclNpZGViYXIgPSB0aGlzLnJlbmRlclNpZGViYXIuYmluZCh0aGlzKVxyXG4gICAgICAgIHRoaXMuZmV0Y2hEYXRhID0gdGhpcy5mZXRjaERhdGEuYmluZCh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICBjb25zdCB7IG9uRXJyb3IsIG9uRGF0YUZldGNoLCByZWZyZXNoUm91dGVQYXRoLCBjYXRlZ29yaWVzLCBwYWdlLCBpdGVtcywgY3VycmVudENhdGVnb3J5ICB9ID0gdGhpcy5wcm9wc1xyXG5cclxuICAgICAgICBpZiAoIXBhZ2UpXHJcbiAgICAgICAgICAgICQuZ2V0KCcvcGFnZS9nZXRzaW5nbGU/ZW50aXR5TmFtZT1jb25nLXRyaW5oJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkRhdGFGZXRjaCh7IHBhZ2U6IHJlc3BvbnNlLmRldGFpbHMgfSwgNTApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIGlmICghY2F0ZWdvcmllcylcclxuICAgICAgICAgICAgJC5nZXQoJy9UYXhvbm9teVVJL0dldFRheG9ub21pZXMnLCB7IHRheG9ub215VHlwZUlkOiAxMDAwMyB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIG9uRGF0YUZldGNoKHsgY2F0ZWdvcmllczogcmVzcG9uc2UgfSwgNTApXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICghaXRlbXMpXHJcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKGN1cnJlbnRDYXRlZ29yeSlcclxuXHJcbiAgICAgICAgcmVmcmVzaFJvdXRlUGF0aCgnY29uZy10cmluaCcpXHJcbiAgICB9XHJcblxyXG4gICAgZmV0Y2hEYXRhKGN1cnJlbnRDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBvbkRhdGFGZXRjaCB9ID0gdGhpcy5wcm9wc1xyXG5cclxuICAgICAgICAgICAgZGF0YVJlcXVlc3QoJy9jb25zdHJ1Y3Rpb24vZ2V0dGFibGVkYXRhJywgOSwgMSwgbnVsbCwgbnVsbCwgY3VycmVudENhdGVnb3J5ICYmIHsgMTAwMDM6IGN1cnJlbnRDYXRlZ29yeS5pZCB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIG9uRGF0YUZldGNoKHsgaXRlbXM6IHJlc3BvbnNlIH0sIDApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpe1xyXG4gICAgICAgIGNvbnN0IHtjdXJyZW50Q2F0ZWdvcnl9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZihjdXJyZW50Q2F0ZWdvcnkgJiYgbmV4dFByb3BzLmN1cnJlbnRDYXRlZ29yeSAmJiBjdXJyZW50Q2F0ZWdvcnkuaWQgIT0gbmV4dFByb3BzLmN1cnJlbnRDYXRlZ29yeS5pZClcclxuICAgICAgICB0aGlzLmZldGNoRGF0YShuZXh0UHJvcHMuY3VycmVudENhdGVnb3J5KVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclNpZGViYXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yaWVzLCBvbkRhdGFGZXRjaCwgY3VycmVudENhdGVnb3J5IH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8U2lkZWJhcj5cclxuICAgICAgICAgICAgICAgIHsgY2F0ZWdvcmllcyAmJiA8Q2F0ZWdvcnlNZW51IGN1cnJlbnRDYXRlZ29yeT17Y3VycmVudENhdGVnb3J5fSBjYXRlZ29yaWVzPXsgY2F0ZWdvcmllcyB9IG9uRGF0YUZldGNoPXtvbkRhdGFGZXRjaH0vPiB9XHJcbiAgICAgICAgICAgIDwvU2lkZWJhcj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFGZXRjaFByb2dyZXNzICE9IDEwMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgcGFnZTogeyB0aHVtYm5haWwgfSwgY2F0ZWdvcmllcywgaXRlbXMgLCBjdXJyZW50Q2F0ZWdvcnl9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRhaW5lciBpZD1cImNvbnN0cnVjdGlvblwiPiBcclxuICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCBsZz1cIjNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnJlbmRlclNpZGViYXIoKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjEyXCIgbGc9XCI5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZSB7Li4udGh1bWJuYWlsfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGl0bGVzIG10LTQgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPntsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiQuG7mSBzxrB1IHThuq1wXCIpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnw8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYWdlLXRpdGxlXCI+e2N1cnJlbnRDYXRlZ29yeSA/IGN1cnJlbnRDYXRlZ29yeS50aXRsZSA6bG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyhcIlThuqV0IGPhuqNcIikgfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBrZXk9eyBpdGVtLmlkIH0geHM9XCI2XCIgbGc9XCI0XCIgY2xhc3NOYW1lPVwicGFnZS1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhZ2VJdGVtIGRhdGE9eyBpdGVtIH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuXHJcbn0pXHJcblxyXG5jb25zdCBkaXNwYXRoVG9Qcm9wcyA9IChkaXNwYXRoKSA9PiAoXHJcbiAgICBiaW5kQWN0aW9uQ3JlYXRvcnMoeyByZWZyZXNoUm91dGVQYXRoIH0sIGRpc3BhdGgpXHJcbilcclxuXHJcbmNvbnN0IENvbm5lY3RlZFBhZ2VDb21wb25lbnQgPSBjb25uZWN0KHN0YXRlVG9Qcm9wcywgZGlzcGF0aFRvUHJvcHMpKFBhZ2VDb21wb25lbnQpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VQYWdlKHsgcGFnZTogJ2NvbmctdHJpbmgnLCBzaG93QnJlYWRjcnVtYnM6IHRydWUgfSkoQ29ubmVjdGVkUGFnZUNvbXBvbmVudCk7IiwiY29uc3QgeyBDb250YWluZXIgfSA9IHJlcXVpcmUoJ3JlYWN0c3RyYXAnKTtcclxuY29uc3QgeyBUaXRsZSB9ID0gcmVxdWlyZSgnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgJChcIi5jZC10aW1lbGluZS1ibG9ja1wiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICBjb25zdCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBvYmpQcmV2ID0gJHRoaXMucHJldignLmNkLXRpbWVsaW5lLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIGlmIChvYmpQcmV2Lmhhc0NsYXNzKCdvZGQnKSkge1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZmluZCgnLmNkLXRpbWVsaW5lLWNvbnRlbnQgcCcpLmF0dHIoJ2RhdGEtYW9zJywgJ3pvb20taW4nKTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmZpbmQoJy5jZC10aW1lbGluZS1jb250ZW50IGgyJykuYXR0cignZGF0YS1hb3MnLCAnem9vbS1pbicpO1xyXG5cclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdldmVuJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5maW5kKCcuY2QtdGltZWxpbmUtY29udGVudCBwJykuYXR0cignZGF0YS1hb3MnLCAnem9vbS1pbicpO1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZmluZCgnLmNkLXRpbWVsaW5lLWNvbnRlbnQgaDInKS5hdHRyKCdkYXRhLWFvcycsICd6b29tLWluJyk7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnb2RkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgaXRlbXMsIHRpdGxlIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICB2YXIgYXJyYXkgPSBpdGVtcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzdHJzID0gU3RyaW5nKGl0ZW0udmFsdWUpLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHN0cnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHIgPSBzdHJzW2ldLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGt2ID0gc3RyO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0ga3ZbMF0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0ga3ZbMV0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrXSA9IHY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDxUaXRsZT57dGl0bGV9PC9UaXRsZT5cclxuICAgICAgICAgICAgICAgIDxzZWN0aW9uIGlkPVwiY2QtdGltZWxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5Lm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbS5jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2QtdGltZWxpbmUtdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2QtdGltZWxpbmUtYmxvY2sgY2xlYXJmaXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZC10aW1lbGluZS1kb3RcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNkLXRpbWVsaW5lLWNvbnRlbnQgY2xlYXJmaXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMj57aXRlbS5sYWJlbH08L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e2l0ZW0uY29udGVudH08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNkLWljb25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17aXRlbS5pY29ufSBhbHQ9e2l0ZW0udGl0bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwi77u/Y29uc3QgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSA9IHJlcXVpcmUoJ3JlZHV4Jyk7XHJcblxyXG5jb25zdCB7IENvbnRhaW5lciwgUm93IH0gPSByZXF1aXJlKCdyZWFjdHN0cmFwJyk7XHJcbmNvbnN0IHsgSW1hZ2UsICBUaXRsZSwgUGFnZUFydGljbGUgfSA9IHJlcXVpcmUoJy4uL3NoYXJlZC9jb21wb25lbnRzJyk7XHJcbmNvbnN0IFF1eVRyaW5oID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL3F1eS10cmluaCcpO1xyXG5cclxuY29uc3QgQmFzZVBhZ2UgPSByZXF1aXJlKCcuLi9zaGFyZWQvX2xheW91dC9tYWluL2Jhc2UtcGFnZScpO1xyXG5cclxuY2xhc3MgUGFnZUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgICAgICBjb25zdCB7IG9uRXJyb3IsIG9uRGF0YUZldGNoLCBhcnRpY2xlLCBwcm9jZWR1cmUgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIGlmKCFhcnRpY2xlKVxyXG4gICAgICAgICAgICAkLmdldCgnL3BhZ2UvR2V0U2luZ2xlP2VudGl0eU5hbWU9dmUtY2h1bmctdG9pJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkRhdGFGZXRjaCh7IGFydGljbGU6IHJlc3BvbnNlfSwgNTApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYoIXByb2NlZHVyZSkgICAgXHJcbiAgICAgICAgICAgICQuZ2V0KCcvb3B0aW9uR3JvdXAvR2V0U2luZ2xlP2VudGl0eU5hbWU9cXV5LXRyaW5oJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBvbkRhdGFGZXRjaCh7IHByb2NlZHVyZTogcmVzcG9uc2UuZGV0YWlscyB9LCA1MCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5kYXRhRmV0Y2hQcm9ncmVzcyAhPSAxMDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCB7IGFydGljbGUsIHByb2NlZHVyZSB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBpZD1cImdpb2ktdGhpZXVcIj5cclxuICAgICAgICAgICAgICAgIHsgYXJ0aWNsZSAmJiA8UGFnZUFydGljbGUgY2xhc3NOYW1lPVwibWItNSBtYi14bC02XCIgey4uLmFydGljbGUuZGV0YWlsc30vPiB9XHJcbiAgICAgICAgICAgICAgICB7IHByb2NlZHVyZSAmJiA8UXV5VHJpbmggaXRlbXM9eyBwcm9jZWR1cmUub3B0aW9ucyB9IHRpdGxlPXtwcm9jZWR1cmUudGl0bGV9Lz4gfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VQYWdlKHsgcGFnZTogJ2dpb2ktdGhpZXUnIH0pKFBhZ2VDb21wb25lbnQpOyIsIu+7v2NvbnN0IHsgUm91dGUsIFN3aXRjaCB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbmNvbnN0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4JylcbmNvbnN0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnkgfSA9IHJlcXVpcmUoJ2hpc3RvcnknKVxuY29uc3QgeyBDb25uZWN0ZWRSb3V0ZXIgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlci1yZWR1eCcpXG5cbmNvbnN0IFByb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxuY29uc3QgaGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KClcblxuLy8gUGFnZXM6XG5jb25zdCBMYXlvdXQgPSByZXF1aXJlKCcuL3NoYXJlZC9fbGF5b3V0JykuZGVmYXVsdFxuY29uc3QgVHJhbmdDaHUgPSByZXF1aXJlKCcuL3RyYW5nLWNodS9pbmRleCcpXG5jb25zdCBHaW9pVGhpZXUgPSByZXF1aXJlKCcuL2dpb2ktdGhpZXUvaW5kZXgnKVxuY29uc3QgQ29uZ1RyaW5oID0gcmVxdWlyZSgnLi9jb25nLXRyaW5oL2luZGV4JylcblxuaW1wb3J0IHsgZGVmYXVsdCBhcyBFeHRlbmRDb25uZWN0ZWRSb3V0ZXIgfSBmcm9tICcuL3NoYXJlZC9jb21wb25lbnRzL19jb21tb25zL2V4dGVuZGVkLUNvbm5lY3RlZFJvdXRlcic7XG5cbmNsYXNzIFJvb3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgQU9TLmluaXQoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgbWVudUl0ZW1zLCBzdG9yZSB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxQcm92aWRlciBzdG9yZT17IHN0b3JlIH0+XG4gICAgICAgICAgICAgICAgPEV4dGVuZENvbm5lY3RlZFJvdXRlciBoaXN0b3J5PXsgaGlzdG9yeSB9IHdyYXBwZXI9e0xheW91dH0vPlxuICAgICAgICAgICAgPC9Qcm92aWRlcj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblJvb3QucHJvcFR5cGVzID0ge1xuICAgIHN0b3JlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG59O1xuXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XG4gICAgbWVudUl0ZW1zOiBzdGF0ZS5tZW51Lm1lbnVJdGVtc1xufSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUm9vdDogY29ubmVjdChzdGF0ZVRvUHJvcHMpKFJvb3QpLFxuICAgIGhpc3Rvcnlcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cG9ydHMiLCJpbXBvcnQgVHJhbmdDaHUgZnJvbSAnLi90cmFuZy1jaHUvaW5kZXgnXHJcbmltcG9ydCBWZUNodW5nVG9pIGZyb20gJy4vZ2lvaS10aGlldS9pbmRleCdcclxuaW1wb3J0IENvbmdUcmluaCBmcm9tICcuL2NvbmctdHJpbmgvaW5kZXgnXHJcbmltcG9ydCBCb1N1dVRhcCBmcm9tICcuL2JvLXN1dS10YXAvaW5kZXgnXHJcblxyXG5jb25zdCBnZXRSb3V0ZXMgPSAoKSA9PiAoe1xyXG4gICAgZXhhY3Q6IHRydWUsXHJcbiAgICBwYXRoOiAnLycsXHJcbiAgICBuYW1lOiAndHJhbmctY2h1JyxcclxuICAgIGxhYmVsOiBsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiVHJhbmcgY2jhu6dcIiksXHJcbiAgICBjb21wb25lbnQ6IFRyYW5nQ2h1LFxyXG4gICAgY2hpbGRSb3V0ZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxyXG4gICAgICAgICAgICBwYXRoOiAnL3ZlLWNodW5nLXRvaScsXHJcbiAgICAgICAgICAgIG5hbWU6ICd2ZS1jaHVuZy10b2knLFxyXG4gICAgICAgICAgICBkZWZhdWx0TGFiZWw6IGxvY2FsaXphdGlvblN0cmluZy5nZXRTdHJpbmcoXCJW4buBIGNow7puZyB0w7RpXCIpLFxyXG4gICAgICAgICAgICBjb21wb25lbnQ6IFZlQ2h1bmdUb2lcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZXhhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHBhdGg6ICcvY29uZy10cmluaCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdjb25nLXRyaW5oJyxcclxuICAgICAgICAgICAgZGVmYXVsdExhYmVsOiBsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiQ8O0bmcgdHLDrG5oXCIpLFxyXG4gICAgICAgICAgICBjb21wb25lbnQ6IENvbmdUcmluaFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxyXG4gICAgICAgICAgICBwYXRoOiAnL2JvLXN1dS10YXAnLFxyXG4gICAgICAgICAgICBuYW1lOiAnYm8tc3V1LXRhcCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHRMYWJlbDogbG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyhcIkLhu5kgc8awdSB04bqtcFwiKSxcclxuICAgICAgICAgICAgY29tcG9uZW50OiBCb1N1dVRhcFxyXG4gICAgICAgIH1cclxuICAgIF1cclxufSlcclxuXHJcbmNvbnN0IGdldFJvdXRlUGF0aCA9IChyb3V0ZXMgPSBbXSwgY3VycmVudFJvdXRlTmFtZSwgbGFiZWxzKSA9PiB7XHJcbiAgICB2YXIgcmVzdWx0Um91dGVQYXRoID0gW11cclxuXHJcbiAgICBmb3IgKHZhciByb3V0ZUluZGV4IGluIHJvdXRlcykge1xyXG4gICAgICAgIHZhciByb3V0ZSA9IHJvdXRlc1sgcm91dGVJbmRleCBdXHJcblxyXG4gICAgICAgIGlmIChsYWJlbHMgJiYgbGFiZWxzWyByb3V0ZS5uYW1lIF0pXHJcbiAgICAgICAgICAgIHJvdXRlLmxhYmVsID0gbGFiZWxzWyByb3V0ZS5uYW1lIF1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJvdXRlLmxhYmVsID0gcm91dGUuZGVmYXVsdExhYmVsXHJcblxyXG4gICAgICAgIGlmIChyb3V0ZS5uYW1lID09IGN1cnJlbnRSb3V0ZU5hbWUpIHtcclxuICAgICAgICAgICAgcmVzdWx0Um91dGVQYXRoLnB1c2gocm91dGUpXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRSb3V0ZVBhdGhcclxuICAgICAgICB9IGVsc2UgaWYgKHJvdXRlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFJvdXRlUGF0aC5wdXNoKHJvdXRlKVxyXG4gICAgICAgICAgICB2YXIgbmV4dFJvdXRlID0gZ2V0Um91dGVQYXRoKHJvdXRlLmNoaWxkUm91dGVzLCBjdXJyZW50Um91dGVOYW1lLCBsYWJlbHMpO1xyXG4gICAgICAgICAgICBpZiAobmV4dFJvdXRlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0Um91dGVQYXRoID0gcmVzdWx0Um91dGVQYXRoLmNvbmNhdChuZXh0Um91dGUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Um91dGVQYXRoXHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0Um91dGVQYXRoID0gW11cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHRSb3V0ZVBhdGggPSBbXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0Um91dGVQYXRoXHJcbn1cclxuXHJcbmNvbnN0IElOSVRfUk9VVEVTID0gXCJJTklUX1JPVVRFU1wiXHJcbmNvbnN0IFJFRlJFU0hfUk9VVEVfUEFUSCA9IFwiUkVGUkVTR19ST1VURV9QQVRIXCJcclxuXHJcbmNvbnN0IHJlZnJlc2hSb3V0ZVBhdGggPSAoY3VycmVudFJvdXRlTmFtZSwgcmVwbGFjZVJvdXRlRGVmYXVsdExhYmVscykgPT4gKHtcclxuICAgIHR5cGU6IFJFRlJFU0hfUk9VVEVfUEFUSCxcclxuICAgIGN1cnJlbnRSb3V0ZU5hbWUsXHJcbiAgICByZXBsYWNlUm91dGVEZWZhdWx0TGFiZWxzXHJcbn0pXHJcblxyXG5jb25zdCByZWR1Y2VyID0gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xyXG4gICAgaWYgKGFjdGlvbi50eXBlID09PSBJTklUX1JPVVRFUykge1xyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7IHJvdXRlczogZ2V0Um91dGVzKCkgfSwgc3RhdGUpXHJcbiAgICB9XHJcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IFJFRlJFU0hfUk9VVEVfUEFUSCkge1xyXG4gICAgICAgIGNvbnN0IHJvdXRlUGF0aCA9IGdldFJvdXRlUGF0aChzdGF0ZS5yb3V0ZXMuY2hpbGRSb3V0ZXMsIGFjdGlvbi5jdXJyZW50Um91dGVOYW1lLCBhY3Rpb24ucm91dGVMYWJlbHMpO1xyXG4gICAgICAgIHJvdXRlUGF0aC51bnNoaWZ0KHN0YXRlLnJvdXRlcylcclxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge30sIHN0YXRlLCB7IHJvdXRlUGF0aCB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGF0ZVxyXG59XHJcblxyXG5leHBvcnQgeyByZWR1Y2VyLCByZWZyZXNoUm91dGVQYXRoLCBJTklUX1JPVVRFUyB9Iiwi77u/Y29uc3QgeyBjb25uZWN0IH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xyXG5jb25zdCB7IGJpbmRBY3Rpb25DcmVhdG9ycyB9ID0gcmVxdWlyZSgncmVkdXgnKTtcclxuXHJcbmNvbnN0IEhlYWRlciA9IHJlcXVpcmUoJy4vX2xheW91dC9oZWFkZXInKTtcclxuY29uc3QgRm9vdGVyID0gcmVxdWlyZSgnLi9fbGF5b3V0L2Zvb3RlcicpO1xyXG5jb25zdCBPdXROYXYgPSByZXF1aXJlKCcuL19sYXlvdXQvbW9iaWxlL21lbnUnKTtcclxuY29uc3QgUGFnZUxvYWRpbmcgPSByZXF1aXJlKCcuL19sYXlvdXQvbWFpbi9wYWdlLWxvYWRpbmcnKTtcclxuXHJcbmNvbnN0IGtleXMgPSB7XHJcbiAgICB1cGRhdGVMYXlvdXQ6IFwiU0VUX0xBWU9VVF9QQVJBTUVURVJcIixcclxuICAgIHRvZ2dsZVBhZ2VMb2FkaW5nOiBcIlRPR0dMRV9QQUdFX0xPQURJTkdcIixcclxufVxyXG5cclxuY29uc3QgYWN0aW9ucyA9IHtcclxuICAgIHVwZGF0ZUxheW91dDogKCkgPT4gKHtcclxuICAgICAgICB0eXBlOiBrZXlzLnVwZGF0ZUxheW91dFxyXG4gICAgfSksXHJcbiAgICB0b2dnbGVQYWdlTG9hZGluZzogKHRvZ2dsZSkgPT4gKHtcclxuICAgICAgICB0eXBlOiBrZXlzLnRvZ2dsZVBhZ2VMb2FkaW5nLFxyXG4gICAgICAgIHRvZ2dsZVxyXG4gICAgfSlcclxufVxyXG5jb25zdCBpbml0U3RhdGUgPSB7XHJcbiAgICBsb2FkaW5nRmFkZU91dFRpbWU6IDUwMCxcclxuXHJcbn1cclxuXHJcbmNvbnN0IHJlZHVjZXIgPSAoc3RhdGUgPSBpbml0U3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgdmFyIG5ld1N0YXRlID0ge307XHJcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBrZXlzLnVwZGF0ZUxheW91dDpcclxuICAgICAgICAgICAgbmV3U3RhdGUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc3RhdGUpO1xyXG4gICAgICAgICAgICBuZXdTdGF0ZS5wYXJhbWV0ZXJzID0gYWN0aW9uLnBhcmFtZXRlcnM7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcclxuICAgICAgICBjYXNlIGtleXMudG9nZ2xlUGFnZUxvYWRpbmc6XHJcbiAgICAgICAgICAgIG5ld1N0YXRlID0gJC5leHRlbmQodHJ1ZSwge30sIHN0YXRlKTtcclxuICAgICAgICAgICAgbmV3U3RhdGUuaXNQYWdlTG9hZGluZ1Zpc2libGUgPSBhY3Rpb24udG9nZ2xlO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL21pZGRsZSB3YXJlIHRvIHVwZGF0ZSBsYXlvdXQgYWZ0ZXIgc3dpdGNoIHBhZ2UsIGV0Yy4uLlxyXG5jb25zdCB1cGRhdGVMYXlvdXQgPSBzdG9yZSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XHJcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT0ga2V5cy51cGRhdGVMYXlvdXQpIHtcclxuICAgICAgICBjb25zdCBmb290ZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvb3RlcicpO1xyXG4gICAgICAgIGNvbnN0IG1haW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4nKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcicpLmNsaWVudEhlaWdodDtcclxuICAgICAgICBjb25zdCBmb290ZXJIZWlnaHQgPSBmb290ZXJFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5vdXRlckhlaWdodDtcclxuICAgICAgICBjb25zdCBsYXlvdXRQYXJhbWV0ZXJzID0ge1xyXG4gICAgICAgICAgICBoZWFkZXI6IHsgaWQ6IGhlYWRlciwgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgfSxcclxuICAgICAgICAgICAgbWFpbjogeyBpZDogbWFpbiwgbWluSGVpZ2h0OiB2aWV3cG9ydEhlaWdodCAtIGZvb3RlckhlaWdodCAtIGhlYWRlckhlaWdodCB9LFxyXG4gICAgICAgICAgICBmb290ZXI6IHsgaWQ6IGZvb3RlciwgaGVpZ2h0OiBmb290ZXJIZWlnaHQgfSxcclxuICAgICAgICAgICAgbG9hZGluZzogeyBpZDogbG9hZGluZyB9LFxyXG4gICAgICAgICAgICB2aWV3cG9ydEhlaWdodCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQobWFpbkVsZW1lbnQpLmNzcygnbWluLWhlaWdodCcsIGxheW91dFBhcmFtZXRlcnMubWFpbi5taW5IZWlnaHQpXHJcbiAgICAgICAgJChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGF5b3V0JykpLmZhZGVUbyg1MDAsIDEpXHJcbiAgICAgICAgJChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpKS5jc3MoJ2hlaWdodCcsIGxheW91dFBhcmFtZXRlcnMubWFpbi5taW5IZWlnaHQpXHJcbiAgICAgICAgYWN0aW9uLnBhcmFtZXRlcnMgPSBsYXlvdXRQYXJhbWV0ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXh0KGFjdGlvbilcclxufVxyXG5cclxuXHJcbmNsYXNzIExheW91dENvbnRyb2xsZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbGF5b3V0TG9hZGVkIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGlmIChsYXlvdXRMb2FkZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyB1cGRhdGVMYXlvdXR9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGF5b3V0LWNvbnRyb2xsZXJcIiAvPjtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG59KTtcclxuXHJcbmNvbnN0IHJlZHVjZXJUb1Byb3BzID0gKHJlZHVjZXIpID0+IChcclxuICAgIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25zLCByZWR1Y2VyKVxyXG4pO1xyXG5cclxuY29uc3QgQ29ubmVjdGVkTGF5b3V0Q29udHJvbGxlciA9IGNvbm5lY3Qoc3RhdGVUb1Byb3BzLCByZWR1Y2VyVG9Qcm9wcykoTGF5b3V0Q29udHJvbGxlcik7XHJcblxyXG5jbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50UmVmcyA9IHtcclxuICAgICAgICAgICAgbGF5b3V0OiAnbGF5b3V0JyxcclxuICAgICAgICAgICAgaGVhZGVyOiAnaGVhZGVyJyxcclxuICAgICAgICAgICAgbWFpbjogJ21haW4nLFxyXG4gICAgICAgICAgICBmb290ZXI6ICdmb290ZXInLFxyXG4gICAgICAgICAgICBsb2FkaW5nOiAnbG9hZGVyJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkOiB0cnVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9e3RoaXMuZWxlbWVudFJlZnMubGF5b3V0fSBjbGFzc05hbWU9XCJsYXlvdXQgcGVyc3BlY3RpdmVcIiBzdHlsZT17eyBvcGFjaXR5OiAwIH19PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEhlYWRlciBpZD17dGhpcy5lbGVtZW50UmVmcy5oZWFkZXJ9IGNsYXNzTmFtZT1cInAtMyBwdC1sZy00IHBiLWxnLTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9e3RoaXMuZWxlbWVudFJlZnMubWFpbn0gY2xhc3NOYW1lPVwibWFpbiBwYi01IG10LWxnLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFnZUxvYWRpbmcgaWQ9e3RoaXMuZWxlbWVudFJlZnMubG9hZGluZ30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8Rm9vdGVyIGlkPXt0aGlzLmVsZW1lbnRSZWZzLmZvb3Rlcn0gY2xhc3NOYW1lPVwicC00XCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPE91dE5hdiAvPlxyXG4gICAgICAgICAgICAgICAgPENvbm5lY3RlZExheW91dENvbnRyb2xsZXIgey4uLnRoaXMuZWxlbWVudFJlZnN9IGxheW91dExvYWRlZD17dGhpcy5zdGF0ZS5sb2FkZWR9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIHVwZGF0ZUxheW91dCxcclxuICAgIGFjdGlvbnMsXHJcbiAgICByZWR1Y2VyLFxyXG4gICAgZGVmYXVsdDogTGF5b3V0XHJcbn0iLCJjb25zdCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5cclxuY29uc3QgeyBDb250YWluZXIsIFJvdywgQ29sIH0gPSByZXF1aXJlKCdyZWFjdHN0cmFwJyk7XHJcbmNvbnN0IENvcHlSaWdodCA9IHJlcXVpcmUoJy4vZm9vdGVyL2NvcHktcmlnaHQnKTtcclxuY29uc3QgU29jaWFscyA9IHJlcXVpcmUoJy4vZm9vdGVyL3NvY2lhbHMnKTtcclxuY29uc3QgTWVudSA9IHJlcXVpcmUoJy4vZm9vdGVyL21lbnUnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgey4uLnRoaXMucHJvcHN9PlxyXG4gICAgICAgICAgICAgICAgPENvbnRhaW5lciBmbHVpZD5cclxuICAgICAgICAgICAgICAgICAgICA8Um93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiMTJcIiBsZz1cIjRcIiB4bD1cIjZcIiBjbGFzc05hbWU9XCJtYi0zIG1iLWxnLTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb3B5UmlnaHQgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC14bC1sZWZ0XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjEyXCIgbWQ9XCI4XCIgbGc9XCI2XCIgeGw9XCI0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LW1kLWxlZnQgdGV4dC14bC1yaWdodFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCIxMlwiIG1kPVwiNFwiIGxnPVwiMlwiIHhsPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNvY2lhbHMgIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtbWQtcmlnaHQgdGV4dC14bC1yaWdodFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImNvbnN0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpe1xyXG4gICAgICAgIHJldHVybihcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJjb3B5cmlnaHRcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cclxuICAgICAgICAgICAgICAgIEMgMjAxNyBkYmdyb3VwLiBBbGwgcmlnaHRzIHJlc2VydmVkXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxufSIsImNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcclxuY29uc3QgeyBSb3csIENvbCB9ID0gcmVxdWlyZSgncmVhY3RzdHJhcCcpO1xyXG5jb25zdCB7IExpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlci1kb20nKTtcclxuY29uc3QgeyBjb25uZWN0IH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xyXG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcbmNvbnN0IGNsYXNzTmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XHJcblxyXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBtZW51SXRlbXM6IHN0YXRlLm1lbnUubWVudUl0ZW1zLFxyXG59KTtcclxuXHJcbmNsYXNzIE1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvb3Rlck1lbnVJdGVtID0gcHJvcHMubWVudUl0ZW1zLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZm9vdGVyO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBtZW51SXRlbXM6IF8uc29ydEJ5KGZvb3Rlck1lbnVJdGVtLCAnZm9vdGVyJykgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJ0ZXh0LXVwcGVyY2FzZSBwbC0wIG1iLTBcIiwgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lbnVJdGVtcy5tYXAoKG1lbnVJdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJtZW51LWl0ZW0gZC1pbmxpbmUtYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz17bWVudUl0ZW0udXJsfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e21lbnVJdGVtLnRpdGxlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD4pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuTWVudS5wcm9wVHlwZXMgPSB7XHJcbiAgICBtZW51SXRlbXM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY29ubmVjdChzdGF0ZVRvUHJvcHMpKE1lbnUpIiwiY29uc3QgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGZhY2Vib29rOiBcIi9cIixcclxuICAgICAgICAgICAgdHdpdHRlcjogXCIvXCIsXHJcbiAgICAgICAgICAgIGluc3RhZ3JhbTogXCIvXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCl7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcInNvY2lhbHMgcGwtMFwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9PlxyXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZhY2Vib29rXCI+PGEgaHJlZj17dGhpcy5zdGF0ZS5mYWNlYm9va30+PGkgY2xhc3NOYW1lPVwiZmEgZmEtZmFjZWJvb2stb2ZmaWNpYWxcIi8+PC9hPjwvbGk+XHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidHdpdHRlclwiPjxhIGhyZWY9e3RoaXMuc3RhdGUudHdpdHRlcn0+PGkgY2xhc3NOYW1lPVwiZmEgZmEtdHdpdHRlclwiLz48L2E+PC9saT5cclxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJpbnN0YWdyYW1cIj48YSBocmVmPXt0aGlzLnN0YXRlLmluc3RhZ3JhbX0+PGkgY2xhc3NOYW1lPVwiZmEgZmEtaW5zdGFncmFtXCIvPjwvYT48L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIClcclxuICAgIH1cclxufSIsIu+7v2NvbnN0IHsgQ29udGFpbmVyLCBSb3csIENvbCB9ID0gcmVxdWlyZSgncmVhY3RzdHJhcCcpO1xyXG5cclxuY29uc3QgTGFuZ3VhZ2VTZWxlY3QgPSByZXF1aXJlKCcuL2hlYWRlci9sYW5ndWFnZS1zZWxlY3QnKTtcclxuY29uc3QgU2VhcmNoID0gcmVxdWlyZSgnLi9oZWFkZXIvc2VhcmNoJyk7XHJcbmNvbnN0IExvZ28gPSByZXF1aXJlKCcuL2hlYWRlci9sb2dvJyk7XHJcbmNvbnN0IE1lbnUgPSByZXF1aXJlKCcuL2hlYWRlci9tZW51JykuZGVmYXVsdDtcclxuY29uc3QgTW9iaWxlSGVhZGVyID0gcmVxdWlyZSgnLi9oZWFkZXIvaGVhZGVyLW1vYmlsZScpO1xyXG5jb25zdCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGhlYWRlciB7Li4udGhpcy5wcm9wc30+XHJcbiAgICAgICAgICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cImQtbm9uZSBkLW1kLWJsb2NrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBtZD1cIjJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2dvIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIG1kPVwiMTBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0LWxlZnQgbGFuZ3VhZ2Utc2VsZWN0IHByLTMgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYW5ndWFnZVNlbGVjdCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VhcmNoIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibWVudS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWl0ZW1zLWVuZCBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnUgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPE1vYmlsZUhlYWRlciBjbGFzc05hbWU9XCJkLWJsb2NrIGQtbWQtbm9uZVwiIC8+XHJcbiAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG59IiwiY29uc3QgY2xhc3NOYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcclxuY29uc3QgTGFuZ3VhZ2VTZWxlY3QgPSByZXF1aXJlKCcuL2xhbmd1YWdlLXNlbGVjdCcpO1xyXG5jb25zdCBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cdG9wZW5NZW51KCkge1xyXG5cclxuXHR9XHJcblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XHJcblx0XHRpZiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KVxyXG5cdFx0XHR2YXIgY2xpY2sgPSAndG91Y2hzdGFydCc7XHJcblx0XHRlbHNlXHJcblx0XHRcdHZhciBjbGljayA9ICdjbGljayc7XHJcblxyXG5cdFx0dmFyICRsYXlvdXQgPSAkKCQoJy5sYXlvdXQnKVswXSk7XHJcblx0XHR2YXIgJHdyYXBwZXIgPSAkbGF5b3V0LmZpbmQoJy53cmFwcGVyJyk7XHJcblx0XHR2YXIgJGJ1cmdlciA9ICRsYXlvdXQuZmluZCgnLmJ1cmdlcicpO1xyXG5cclxuXHRcdGdsb2JhbC5jbG9zZU1lbnUgPSBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7XHJcblx0XHRcdCRsYXlvdXQucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKS5kZWxheSg1MDApLnF1ZXVlKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkd3JhcHBlci51bmJpbmQoY2xpY2spO1xyXG5cdFx0XHRcdCRsYXlvdXQucmVtb3ZlQ2xhc3MoJ21vZGFsdmlldycpLmRlcXVldWUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdCRidXJnZXIucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdH1cclxuXHJcblx0XHRnbG9iYWwub3Blbk1lbnUgPSBmdW5jdGlvbiBvcGVuTWVudSgpIHtcclxuXHRcdFx0JGJ1cmdlci5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHQkbGF5b3V0LmFkZENsYXNzKCdtb2RhbHZpZXcnKTtcclxuXHRcdFx0JGxheW91dC5hZGRDbGFzcygnYW5pbWF0ZScpLmRlbGF5KDUwMCkucXVldWUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCR3cmFwcGVyLmJpbmQoY2xpY2ssIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGlmICgkbGF5b3V0Lmhhc0NsYXNzKCdtb2RhbHZpZXcnKSlcclxuXHRcdFx0XHRcdFx0Y2xvc2VNZW51KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JGxheW91dC5hZGRDbGFzcygnbW9kYWx2aWV3JykuZGVxdWV1ZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQkYnVyZ2VyLm9uKGNsaWNrLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG9wZW5NZW51KCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgJG5hdiA9ICRsYXlvdXQuZmluZCgnLm91dGVyLW5hdicpO1xyXG5cdFx0JG5hdi5maW5kKCdhJykuYmluZChjbGljaywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNsb3NlTWVudSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwiaGVhZGVyLW1vYmlsZSBjbGVhcmZpeFwiLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZmxvYXQtbGVmdCBtdC0xXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImJ1cmdlclwiPlxyXG5cdFx0XHRcdFx0XHQ8c3Bhbj48L3NwYW4+XHJcblx0XHRcdFx0XHRcdDxzcGFuPjwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0PHNwYW4+PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHQ8c3Bhbj48L3NwYW4+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJmbG9hdC1yaWdodFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJmbG9hdC1sZWZ0IGxhbmd1YWdlLXNlbGVjdCBwci0zIG1yLTNcIj5cclxuXHRcdFx0XHRcdFx0PExhbmd1YWdlU2VsZWN0IC8+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZmxvYXQtbGVmdFwiPlxyXG5cdFx0XHRcdFx0XHQ8U2VhcmNoIC8+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpXHJcblx0fVxyXG59Iiwi77u/Y29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5jb25zdCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XHJcbmNvbnN0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gPSByZXF1aXJlKCdyZWR1eCcpO1xyXG5jb25zdCB7IElucHV0IH0gPSByZXF1aXJlKCdyZWFjdHN0cmFwJyk7XHJcblxyXG5jb25zdCB7IHN3aXRoTGFuZ3VhZ2UgfSA9IHJlcXVpcmUoJy4uLy4uL3JlZHVjZXJzL2xvY2FsaXphdGlvbicpLmFjdGlvbnM7XHJcblxyXG5jbGFzcyBMYW5ndWFnZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICByZW5kZXIoKXtcclxuICAgICAgICBjb25zdCB7IGxhbmd1YWdlcywgY3VycmVudExhbmd1YWdlLCBzd2l0aExhbmd1YWdlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxmb3JtIG1ldGhvZD1cInBvc3RcIiBhY3Rpb249XCJsb2NhbGl6YXRpb24vc3dpdGNoXCIgcmVmPVwiZm9ybVwiPlxyXG4gICAgICAgICAgICAgICAgPElucHV0IG5hbWU9XCJjdWx0dXJlXCIgdmFsdWU9e2N1cnJlbnRMYW5ndWFnZX0gY2xhc3NOYW1lPVwidGV4dC11cHBlcmNhc2UgYm9yZGVyLTAgcC0wXCIgdHlwZT1cInNlbGVjdFwiIG9uQ2hhbmdlPXsoZSkgPT4geyB0aGlzLnJlZnMuZm9ybS5zdWJtaXQoKTsgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VzLm1hcCgobGFuZ3VhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8b3B0aW9uIGtleT17bGFuZ3VhZ2UubmFtZX0gdmFsdWU9e2xhbmd1YWdlLm5hbWV9PntsYW5ndWFnZS50aXRsZX08L29wdGlvbj47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9JbnB1dD5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBjdXJyZW50TGFuZ3VhZ2U6IHN0YXRlLmxvY2FsaXphdGlvbi5jdXJyZW50TGFuZ3VhZ2UsXHJcbiAgICBsYW5ndWFnZXM6IHN0YXRlLmxvY2FsaXphdGlvbi5sYW5ndWFnZXNcclxufSk7XHJcblxyXG5jb25zdCBkaXNwYXRoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKFxyXG4gICAgYmluZEFjdGlvbkNyZWF0b3JzKHsgIH0sIGRpc3BhdGNoKVxyXG4pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0KHN0YXRlVG9Qcm9wcywgZGlzcGF0aFRvUHJvcHMpKExhbmd1YWdlU2VsZWN0KSIsIu+7v21vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nb1wiPlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cIi9pbWcvbG9nby5wbmdcIiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbn0iLCLvu79jb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbmNvbnN0IHsgTmF2TGluayB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbScpO1xyXG5jb25zdCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XHJcbmNvbnN0IHsgYmluZEFjdGlvbkNyZWF0b3JzIH0gPSByZXF1aXJlKCdyZWR1eCcpO1xyXG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG5jb25zdCBrZXlzID0ge1xyXG4gICAgaW5pdDogXCJNRU5VX0lOSVRcIlxyXG59XHJcblxyXG5jb25zdCBhY3Rpb25zID0ge1xyXG4gICAgLy9pbml0U3RhdGU6XHJcbiAgICAvLyAtIG1lbnVJdGVtczogZmxhdCBhcnJheVxyXG4gICAgaW5pdDogKGluaXRTdGF0ZSkgPT4gKHtcclxuICAgICAgICB0eXBlOiBrZXlzLmluaXQsXHJcbiAgICAgICAgaW5pdFN0YXRlXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCByZWR1Y2VyID0gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xyXG4gICAgY29uc3QgbmV3U3RhdGUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc3RhdGUpO1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2Uga2V5cy5pbml0OlxyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmluaXRTdGF0ZTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuICAgIG1lbnVJdGVtczogc3RhdGUubWVudS5tZW51SXRlbXMsXHJcbn0pO1xyXG5cclxuY29uc3QgZGlzcGF0aFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+IChcclxuICAgIGJpbmRBY3Rpb25DcmVhdG9ycyh7ICB9LCBkaXNwYXRjaClcclxuKTtcclxuXHJcblxyXG5jbGFzcyBNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IG1lbnVJdGVtcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibWVudSB0ZXh0LXVwcGVyY2FzZSBwbC0wIG1iLTBcIj5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbXMubWFwKChtZW51SXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJtZW51LWl0ZW0gZC1pbmxpbmUtYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2TGluayBleGFjdD17IG1lbnVJdGVtLnVybCA9PSAnLyd9IHRvPXttZW51SXRlbS51cmx9IGFjdGl2ZUNsYXNzTmFtZT1cImN1cnJlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e21lbnVJdGVtLnRpdGxlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L05hdkxpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPilcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbk1lbnUucHJvcFR5cGVzID0ge1xyXG4gICAgbWVudUl0ZW1zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9e1xyXG4gICAgYWN0aW9ucyxcclxuICAgIHJlZHVjZXIsXHJcbiAgICBkZWZhdWx0OiBjb25uZWN0KHN0YXRlVG9Qcm9wcywgZGlzcGF0aFRvUHJvcHMsIG51bGwsIHsgcHVyZTogZmFsc2UgfSkoTWVudSlcclxufSIsIu+7v2NvbnN0IHsgQnV0dG9uIH0gPSByZXF1aXJlKCdyZWFjdHN0cmFwJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChwcm9wcykgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwibGlua1wiIGNsYXNzTmFtZT1cImJ0bi1zZWFyY2ggdGV4dC11cHBlcmNhc2UgcGwtMCBwci0wIGJvcmRlci0wXCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1zZWFyY2ggbXItMlwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiLz4gc2VhcmNoXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxufSIsImNvbnN0IENvbm5lY3RlZEJhc2VQYWdlID0gcmVxdWlyZSgnLi9jb25uZWN0ZWQtYmFzZS1wYWdlJykuZGVmYXVsdDtcclxuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xyXG5cclxuY29uc3QgYmFzZUFyZ3MgPSB7XHJcbiAgICBwYWdlOiAnJ1xyXG59XHJcblxyXG5iYXNlQXJncy5Qcm9wVHlwZXMgPSB7XHJcbiAgICBwYWdlOiBQcm9wVHlwZXMuc3RyaW5nLnJlcXVpcmVcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoYXJncyA9IGJhc2VBcmdzKSA9PiBFbGVtZW50ID0+IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q29ubmVjdGVkQmFzZVBhZ2Ugey4uLmFyZ3N9IHsuLi50aGlzLnByb3BzfSBjb21wb25lbnQ9e0VsZW1lbnR9IC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59IiwiY29uc3QgeyBjb25uZWN0IH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xuY29uc3QgeyBiaW5kQWN0aW9uQ3JlYXRvcnMgfSA9IHJlcXVpcmUoJ3JlZHV4Jyk7XG5jb25zdCB7IFN3aXBlYWJsZSwgZGVmaW5lU3dpcGUgfSA9IHJlcXVpcmUoJ3JlYWN0LXRvdWNoJyk7XG5cbmNvbnN0IGxheW91dEFjdGlvbnMgPSByZXF1aXJlKCcuLi8uLi9fbGF5b3V0JykuYWN0aW9ucztcblxuY29uc3QgRGVsYXlSZW5kZXIgPSByZXF1aXJlKCcuLi8uLi9jb21wb25lbnRzL19jb21tb25zL2RlbGF5LXJlbmRlcicpO1xuXG5pbXBvcnQgeyBDb25uZWN0ZWRCcmVhY3J1bWJzIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cydcblxuY29uc3Qga2V5cyA9IHtcbiAgY3JlYXRlTmV3UGFnZTogXCJDUkVBVEVfTkVXX1BBR0VcIixcbiAgb25EYXRhRmV0Y2g6IFwiT05fUEFHRV9GRVRDSF9EQVRBXCJcbn1cblxuY29uc3QgYWN0aW9ucyA9IHtcbiAgY3JlYXRlTmV3UGFnZTogKHBhZ2UpID0+ICh7XG4gICAgdHlwZToga2V5cy5jcmVhdGVOZXdQYWdlLFxuICAgIHBhZ2VcbiAgfSksXG5cbiAgLy9wcm9ncmVzczogMCAtIDEwMC5cbiAgb25EYXRhRmV0Y2g6IChwYWdlLCBkYXRhLCBwcm9ncmVzcyA9IDEwMCkgPT4gKHtcbiAgICB0eXBlOiBrZXlzLm9uRGF0YUZldGNoLFxuICAgIHBhZ2UsXG4gICAgZGF0YSxcbiAgICBwcm9ncmVzc1xuICB9KVxufVxuXG5jb25zdCBpbml0U3RhdGUgPSB7XG4gIHBhZ2VzOiB7fSAvL2RhdGEgb2YgYWxsIHBhZ2Vcbn1cblxuY29uc3QgcmVkdWNlciA9IChzdGF0ZSA9IGluaXRTdGF0ZSwgYWN0aW9uKSA9PiB7XG4gIHZhciBuZXdTdGF0ZSA9IHt9O1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBrZXlzLm9uRGF0YUZldGNoOlxuICAgICAgbmV3U3RhdGUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc3RhdGUpO1xuICAgICAgdmFyIHBhZ2VzID0gbmV3U3RhdGUucGFnZXM7XG4gICAgICB2YXIgY3VycmVudFBhZ2VEYXRhID0gJC5leHRlbmQocGFnZXNbIGFjdGlvbi5wYWdlIF0sIGFjdGlvbi5kYXRhKTtcbiAgICAgIGN1cnJlbnRQYWdlRGF0YS5kYXRhRmV0Y2hQcm9ncmVzcyArPSBhY3Rpb24ucHJvZ3Jlc3M7XG4gICAgICBpZiAoY3VycmVudFBhZ2VEYXRhLmRhdGFGZXRjaFByb2dyZXNzID4gMTAwKVxuICAgICAgICBjb25zb2xlLmVycm9yKGAnZGF0YUZldGNoUHJvZ3Jlc3MnIHBo4bqjaSB04burIDAgxJHhur9uIDEwMCwgaGnhu4duIHThuqFpICR7Y3VycmVudFBhZ2VEYXRhLmRhdGFGZXRjaFByb2dyZXNzfS5gKTtcbiAgICAgIG5ld1N0YXRlLnBhZ2VzWyBhY3Rpb24ucGFnZSBdID0gY3VycmVudFBhZ2VEYXRhO1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGNhc2Uga2V5cy5jcmVhdGVOZXdQYWdlOlxuICAgICAgbmV3U3RhdGUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc3RhdGUpO1xuICAgICAgbmV3U3RhdGUucGFnZXNbIGFjdGlvbi5wYWdlIF0gPSB7XG4gICAgICAgIGRhdGFGZXRjaFByb2dyZXNzOiAwXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgfVxufVxuXG5jbGFzcyBCYXNlUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuYmFzZURlbGF5ID0gMTAwMDtcbiAgICBjb25zdCB7IGNvbXBvbmVudCB9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuc3dpcGVMZWZ0ID0gdGhpcy5zd2lwZUxlZnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRGF0YUZldGNoID0gdGhpcy5vbkRhdGFGZXRjaC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5FbGVtZW50V2l0aERlbGF5UmVuZGVyID0gRGVsYXlSZW5kZXIoe1xuICAgICAgZGVsYXk6IHRoaXMuYmFzZURlbGF5LFxuICAgICAgb25SZW5kZXI6IHRoaXMub25QYWdlQ29tcG9uZW50UmVuZGVyLmJpbmQodGhpcylcbiAgICB9KShjb21wb25lbnQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3QgeyB0b2dnbGVQYWdlTG9hZGluZywgdXBkYXRlTGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIHVwZGF0ZUxheW91dCgpO1xuICAgIHRvZ2dsZVBhZ2VMb2FkaW5nKHRydWUpO1xuICB9XG5cbiAgc3dpcGVMZWZ0KCkge1xuICAgIGdsb2JhbC5vcGVuTWVudSgpO1xuICB9XG5cbiAgb25EYXRhRmV0Y2goZGF0YSwgcHJvZ3Jlc3MpIHtcbiAgICBjb25zdCB7IG9uRGF0YUZldGNoLCBwYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIG9uRGF0YUZldGNoKHBhZ2UsIGRhdGEsIHByb2dyZXNzKTtcbiAgfVxuXG4gIG9uUGFnZUNvbXBvbmVudFJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvZ2dsZVBhZ2VMb2FkaW5nLCBsb2FkaW5nRmFkZU91dFRpbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgJGVsZW1lbnQgPSAkKFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpKTtcblxuICAgIHRvZ2dsZVBhZ2VMb2FkaW5nKGZhbHNlKTtcbiAgICAkZWxlbWVudC5kZWxheSh0aGlzLmJhc2VEZWxheSkuZmFkZVRvKDUwMCwgMSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgeyBjcmVhdGVOZXdQYWdlLFxuICAgICAgcGFnZXMsXG4gICAgICBwYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHBhZ2VEYXRhID0gcGFnZXNbIHBhZ2UgXTtcbiAgICBpZiAoIXBhZ2VEYXRhKVxuICAgICAgY3JlYXRlTmV3UGFnZShwYWdlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNyZWF0ZU5ld1BhZ2UsIGNvbXBvbmVudCxcbiAgICAgIHBhZ2VzLFxuICAgICAgcGFnZSwgLy9wYWdlIG5hbWUgb2YgY29tcG9uZW50XG4gICAgICByb3V0ZXMsIG1hdGNoOiB7IHBhcmFtcyB9LCBzaG93QnJlYWRjcnVtYnMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBwYWdlRGF0YSA9IHBhZ2VzWyBwYWdlIF07XG4gICAgaWYgKCFwYWdlRGF0YSlcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFzZS1wYWdlXCIgc3R5bGU9eyB7IG9wYWNpdHk6IDAgfSB9PlxuICAgICAgICA8U3dpcGVhYmxlIG9uU3dpcGVSaWdodD17IHRoaXMuc3dpcGVMZWZ0IH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzd2lwZWFibGVcIiAvPlxuICAgICAgICA8L1N3aXBlYWJsZT5cbiAgICAgICAge1xuICAgICAgICAgIHNob3dCcmVhZGNydW1icyAmJiA8Q29ubmVjdGVkQnJlYWNydW1icyByb3V0ZXM9e3JvdXRlc30gcGFyYW1zPXtwYXJhbXN9IC8+XG4gICAgICAgIH1cbiAgICAgICAgPHRoaXMuRWxlbWVudFdpdGhEZWxheVJlbmRlciB7Li4ucGFnZURhdGF9IG9uRGF0YUZldGNoPXsgdGhpcy5vbkRhdGFGZXRjaCB9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59O1xuXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XG4gIGxheW91dFBhcmFtZXRlcjogc3RhdGUubGF5b3V0LnBhcmFtZXRlcnMsLy9yZW1vdmUgd2lsbCB0YWtlIG5vIGVmZmVjdCFcbiAgbG9hZGluZ0ZhZGVPdXRUaW1lOiBzdGF0ZS5sYXlvdXQubG9hZGluZ0ZhZGVPdXRUaW1lLFxuICBwYWdlczogc3RhdGUuY29ubmVjdGVkQmFzZVBhZ2UucGFnZXMsXG4gIHJvdXRlczogc3RhdGUucm91dGVzXG59KTtcblxuY29uc3QgZGlzcGF0aFRvUHJvcHMgPSAoZGlzcGF0aCkgPT4gKFxuICBiaW5kQWN0aW9uQ3JlYXRvcnMoe1xuICAgIHRvZ2dsZVBhZ2VMb2FkaW5nOiBsYXlvdXRBY3Rpb25zLnRvZ2dsZVBhZ2VMb2FkaW5nLFxuICAgIHVwZGF0ZUxheW91dDogbGF5b3V0QWN0aW9ucy51cGRhdGVMYXlvdXQsXG4gICAgY3JlYXRlTmV3UGFnZTogYWN0aW9ucy5jcmVhdGVOZXdQYWdlLFxuICAgIG9uRGF0YUZldGNoOiBhY3Rpb25zLm9uRGF0YUZldGNoXG4gIH0sIGRpc3BhdGgpXG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWN0aW9ucyxcbiAgcmVkdWNlcixcbiAgZGVmYXVsdDogY29ubmVjdChzdGF0ZVRvUHJvcHMsIGRpc3BhdGhUb1Byb3BzKShCYXNlUGFnZSlcbn0iLCJjb25zdCB7IGNvbm5lY3QgfSA9IHJlcXVpcmUoJ3JlYWN0LXJlZHV4Jyk7XHJcbmNvbnN0IHN2ZyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIj4gPGcgY2xhc3M9XCJhbmltLTBcIj4gPGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI1MFwiIGZpbGw9XCJ3aGl0ZVwiIC8+IDwvZz4gPGcgY2xhc3M9XCJhbmltLTFcIj4gPGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI1XCIgZmlsbD1cIiNmZjVlN0NcIiAvPiA8L2c+IDxnIGNsYXNzPVwiYW5pbS0yXCI+IDxjaXJjbGUgY3g9XCI3NVwiIGN5PVwiNTBcIiByPVwiNVwiIGZpbGw9XCIjZmY1ZTdDXCIgLz4gPGxpbmUgeDE9XCIyNVwiIHkxPVwiNTBcIiB4Mj1cIjc1XCIgeTI9XCI1MFwiIHN0cm9rZT1cIiNmZjVlN0NcIiBzdHJva2Utd2lkdGg9XCIzXCIgLz4gPC9nPiA8ZyBjbGFzcz1cImFuaW0tM1wiPiA8Y2lyY2xlIGN4PVwiNTBcIiBjeT1cIjI1XCIgcj1cIjVcIiBmaWxsPVwiI2ZmNWU3Q1wiIC8+IDxsaW5lIHgxPVwiNTBcIiB5MT1cIjI1XCIgeDI9XCIyNVwiIHkyPVwiNzVcIiBzdHJva2U9XCIjZmY1ZTdDXCIgc3Ryb2tlLXdpZHRoPVwiM1wiIC8+IDxsaW5lIHgxPVwiNTBcIiB5MT1cIjI1XCIgeDI9XCI3NVwiIHkyPVwiNzVcIiBzdHJva2U9XCIjZmY1ZTdDXCIgc3Ryb2tlLXdpZHRoPVwiM1wiIC8+IDwvZz4gPGcgY2xhc3M9XCJhbmltLTRcIj4gPGNpcmNsZSBjeD1cIjc1XCIgY3k9XCIyNVwiIHI9XCI1XCIgZmlsbD1cIiNmZjVlN0NcIiAvPiA8bGluZSB4MT1cIjc1XCIgeTE9XCIyNVwiIHgyPVwiMjVcIiB5Mj1cIjI1XCIgc3Ryb2tlPVwiI2ZmNWU3Q1wiIHN0cm9rZS13aWR0aD1cIjNcIiAvPiA8L2c+PC9zdmc+JztcclxuXHJcbmNsYXNzIExvYWRpbmcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgaXNWaXNpYmxlIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpO1xyXG5cclxuICAgICAgICBpZihpc1Zpc2libGUpXHJcbiAgICAgICAgICAgICRlbGVtZW50LmZhZGVUbyg1MDAsIDEsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0pOyAgIFxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgJGVsZW1lbnQuZmFkZVRvKDUwMCwgMCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50LmhpZGUoKTtcclxuICAgICAgICAgICAgfSk7ICAgXHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwibG9hZGluZ1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc3ZnIH19IC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBpc1Zpc2libGU6IHN0YXRlLmxheW91dC5pc1BhZ2VMb2FkaW5nVmlzaWJsZVxyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb25uZWN0KHN0YXRlVG9Qcm9wcykoTG9hZGluZyk7IiwiY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5jb25zdCB7IE5hdkxpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlci1kb20nKTtcclxuY29uc3QgeyBjb25uZWN0IH0gPSByZXF1aXJlKCdyZWFjdC1yZWR1eCcpO1xyXG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XHJcblxyXG5jbGFzcyBNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IG1lbnVJdGVtcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8bmF2IGNsYXNzTmFtZT1cImxlZnQgb3V0ZXItbmF2IHZlcnRpY2FsXCI+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW1zLm1hcCgobWVudUl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2TGluayBrZXk9e2luZGV4fSBleGFjdD17bWVudUl0ZW0udXJsID09ICcvJ30gdG89e21lbnVJdGVtLnVybH0gYWN0aXZlQ2xhc3NOYW1lPVwiY3VycmVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZW51SXRlbS50aXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvbmF2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbk1lbnUucHJvcFR5cGVzID0ge1xyXG4gICAgbWVudUl0ZW1zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZFxyXG59XHJcblxyXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICBtZW51SXRlbXM6IHN0YXRlLm1lbnUubWVudUl0ZW1zLFxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY29ubmVjdChzdGF0ZVRvUHJvcHMsIG51bGwsIG51bGwsIHsgcHVyZTogZmFsc2UgfSkoTWVudSk7IiwiY29uc3QgZW5VUyA9IHJlcXVpcmUoJy4vX2xvY2FsaXphdGlvbi9lbi11cycpO1xyXG5cclxudmFyIHN0cmluZ3MgPSB7XHJcbiAgICAndmktVk4nOiB7XHJcbiAgICB9LFxyXG4gICAgJ2VuLVVTJzogZW5VU1xyXG59O1xyXG5cclxuY2xhc3MgbG9jYWxpemF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcclxuICAgIH1cclxuXHJcbiAgICBzZXRMYW5ndWFnZShsYW5ndWFnZSl7XHJcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0cmluZyhzdHJpbmcpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZ3NbdGhpcy5sYW5ndWFnZV1bc3RyaW5nXSB8fCBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IGxvY2FsaXphdGlvbigpOyIsIm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgJ1TDrG0ga2nhur9tJzogXCJTZWFyY2hcIixcclxuICAgICdDw7RuZyB0csOsbmgnOiBcIkNvbnN0cnVjdGlvblwiLFxyXG4gICAgJ0Thu7Egw6FuJzogXCJQcm9qZWN0XCIsXHJcbiAgICAnS2jDoWNoPGJyLz5z4bqhbic6IFwiSG90ZWxcIixcclxuICAgICdOaMOgIOG7nyc6IFwiSG9tZVwiLFxyXG4gICAgJ0PEg248YnIvPmjhu5knOiBcIkRlcGFydG1lbnRcIlxyXG59IiwiY29uc3QgVGl0bGUgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvc2VjdGlvbi10aXRsZScpO1xyXG5jb25zdCBQYWdlQXJ0aWNsZSA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9wYWdlLWFydGljbGUnKTtcclxuY29uc3QgSW1hZ2UgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvaW1hZ2UnKTtcclxuY29uc3QgUmVuZGVyRGVsYXkgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvX2NvbW1vbnMvZGVsYXktcmVuZGVyJyk7XHJcblxyXG5pbXBvcnQgeyBkZWZhdWx0IGFzIENvbm5lY3RlZEJyZWFjcnVtYnMgfSBmcm9tICcuL2NvbXBvbmVudHMvY29ubmVjdGVkLWJyZWFjcnVtYnMnXHJcbmltcG9ydCB7IGRlZmF1bHQgYXMgU2lkZWJhciB9IGZyb20gJy4vY29tcG9uZW50cy9zaWRlYmFyJztcclxuaW1wb3J0IHsgZGVmYXVsdCBhcyBDYXRlZ29yeU1lbnUgfSBmcm9tICcuL2NvbXBvbmVudHMvY2F0ZWdvcnktbWVudSc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIFJlbmRlckRlbGF5LCBUaXRsZSwgUGFnZUFydGljbGUsIEltYWdlLCBDb25uZWN0ZWRCcmVhY3J1bWJzLCBTaWRlYmFyLCBDYXRlZ29yeU1lbnVcclxufSIsImNvbnN0IERlbGF5UmVuZGVyID0gKGFyZ3MgPSB7fSkgPT4gKEVsZW1lbnQpID0+IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IHsgcmVhZHk6IHRydWUgfTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcclxuICAgIGNvbnN0IHsgZGVsYXksIG9uUmVuZGVyIH0gPSBhcmdzO1xyXG4gICAgY29uc3QgZCA9IHBhcnNlSW50KGRlbGF5LCAxMCk7XHJcbiAgICBpZiAoZCAmJiBkID4gMCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgcmVhZHk6IGZhbHNlIH0pO1xyXG4gICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVhZHk6IHRydWUgfSk7XHJcbiAgICAgICAgaWYgKG9uUmVuZGVyICYmIHR5cGVvZiBvblJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgb25SZW5kZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIGRlbGF5KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWFkeTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgaWYgKHRoaXMudGltZW91dCkge1xyXG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLnJlYWR5KSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPEVsZW1lbnQgey4uLnRoaXMucHJvcHN9IC8+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IERlbGF5UmVuZGVyOyIsImltcG9ydCB7IFJvdXRlLCBTd2l0Y2ggfSBmcm9tICdyZWFjdC1yb3V0ZXInXHJcbmltcG9ydCB7IENvbm5lY3RlZFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1yZWR1eCdcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xyXG5jb25zdCBUcmFuZ0NodSA9IHJlcXVpcmUoJy4uLy4uLy4uL3RyYW5nLWNodS9pbmRleCcpXHJcblxyXG5jb25zdCByZW5kZXJSb3V0ZSA9ICh7IHBhdGgsIGV4YWN0LCBjb21wb25lbnQsIGNoaWxkUm91dGVzIH0sIGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCByb3V0ZUNvbXBvbmVudCA9IDxSb3V0ZSBleGFjdD17IGV4YWN0IH0ga2V5PXsgcGF0aCB9IHBhdGg9eyBwYXRoIH0gY29tcG9uZW50PXsgY29tcG9uZW50IH0gLz5cclxuXHJcbiAgICBpZihjaGlsZFJvdXRlcyAhPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3Qgcm91dGVDb21wb25lbnRzID0gY2hpbGRSb3V0ZXMubWFwKHJlbmRlclJvdXRlKVxyXG4gICAgICAgIHJvdXRlQ29tcG9uZW50cy5wdXNoKHJvdXRlQ29tcG9uZW50KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8U3dpdGNoPlxyXG4gICAgICAgICAgICAgICAgeyByb3V0ZUNvbXBvbmVudHMgfVxyXG4gICAgICAgICAgICA8L1N3aXRjaD5cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIHJvdXRlQ29tcG9uZW50XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclJvdXRlcyA9ICh7IHBhdGgsIGV4YWN0LCBjb21wb25lbnQsIGNoaWxkUm91dGVzIH0pID0+IHtcclxuICAgIGNvbnN0IHJvdXRlQ29tcG9uZW50cyA9IGNoaWxkUm91dGVzLm1hcChyZW5kZXJSb3V0ZSk7XHJcblxyXG4gICAgLy9Sb290IHJvdXRlXHJcbiAgICByb3V0ZUNvbXBvbmVudHMudW5zaGlmdCg8Um91dGUgZXhhY3Q9eyBleGFjdCB9IGtleT17IHBhdGggfSBwYXRoPXsgcGF0aCB9IGNvbXBvbmVudD17IGNvbXBvbmVudCB9IC8+KVxyXG5cclxuICAgIHJldHVybiByb3V0ZUNvbXBvbmVudHM7XHJcbn1cclxuXHJcbmNvbnN0IEV4dGVuZGVkQ29ubmVjdGVkUm91dGVyID0gKHsgcm91dGVzLCBoaXN0b3J5LCB3cmFwcGVyIH0pID0+IHtcclxuICAgIGNvbnN0IFdyYXBwZXIgPSB3cmFwcGVyXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDb25uZWN0ZWRSb3V0ZXIgaGlzdG9yeT17IGhpc3RvcnkgfT5cclxuICAgICAgICAgICAgPFdyYXBwZXI+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVzICYmIHJlbmRlclJvdXRlcyhyb3V0ZXMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvV3JhcHBlcj5cclxuICAgICAgICA8L0Nvbm5lY3RlZFJvdXRlcj5cclxuICAgIClcclxufVxyXG5cclxuY29uc3Qgc3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG4gICAgcm91dGVzOiBzdGF0ZS5hcHBSb3V0ZXIucm91dGVzXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KHN0YXRlVG9Qcm9wcykoRXh0ZW5kZWRDb25uZWN0ZWRSb3V0ZXIpIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBCcmVhZGNydW1ic1xyXG4gKiBAZGVzY3JpcHRpb24gTmV3IGJyZWFkY3J1bWJzIGNsYXNzIGJhc2VkIG9uIEVTNiBzdHJ1Y3R1cmUuXHJcbiAqIEBleHBvcnRzIEJyZWFkY3J1bWJzXHJcbiAqIEB2ZXJzaW9uIDEuNlxyXG4gKiBAZXh0ZW5kcyBjb21wb25lbnRcclxuICogQHJlcXVpcmVzIHJlYWN0XHJcbiAqIEByZXF1aXJlcyByZWFjdC1yb3V0ZXJcclxuICpcclxuICovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInXHJcbmltcG9ydCBFeGVjdXRpb25FbnZpcm9ubWVudCBmcm9tICdleGVudidcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xyXG5cclxuY2xhc3MgQnJlYWRjcnVtYnMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gJ0JyZWFkY3J1bWJzJ1xyXG4gIH1cclxuXHJcbiAgX2dldERpc3BsYXlOYW1lKHJvdXRlKSB7XHJcbiAgICBsZXQgbmFtZSA9IG51bGxcclxuXHJcbiAgICBpZiAodHlwZW9mIHJvdXRlLmdldERpc3BsYXlOYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIG5hbWUgPSByb3V0ZS5nZXREaXNwbGF5TmFtZS5iaW5kKG51bGwsIHRoaXMucHJvcHMucGFyYW1zKSgpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdXRlLmluZGV4Um91dGUpIHtcclxuICAgICAgbmFtZSA9IG5hbWUgfHwgcm91dGUuaW5kZXhSb3V0ZS5kaXNwbGF5TmFtZSB8fCBudWxsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYW1lID0gbmFtZSB8fCByb3V0ZS5kaXNwbGF5TmFtZSB8fCBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGEgY3VzdG9tIG5hbWUgaGFzIGJlZW4gYXBwbGllZCB0byB0aGUgcm91dGVcclxuICAgIGlmICghbmFtZSAmJiBCb29sZWFuKHJvdXRlLmxhYmVsKSkge1xyXG4gICAgICBuYW1lID0gcm91dGUubGFiZWxcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgbmFtZSBleGlzdHMgYW5kIGl0J3MgaW4gdGhlIGV4Y2x1ZGVzIGxpc3QgZXhjbHVkZSB0aGlzIHJvdXRlXHJcbiAgICAvLyBJZiAobmFtZSAmJiB0aGlzLnByb3BzLmV4Y2x1ZGVzLnNvbWUoaXRlbSA9PiBpdGVtID09PSBuYW1lKSkgcmV0dXJuIG51bGxcclxuXHJcbiAgICBpZiAoIW5hbWUgJiYgdGhpcy5wcm9wcy5kaXNwbGF5TWlzc2luZykge1xyXG4gICAgICBuYW1lID0gdGhpcy5wcm9wcy5kaXNwbGF5TWlzc2luZ1RleHRcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmFtZVxyXG4gIH1cclxuXHJcbiAgX2FkZEtleVRvRWxlbWVudChlbCkge1xyXG4gICAgcmV0dXJuIChlbCAmJiAhZWwua2V5ICYmIGVsLnR5cGUpXHJcbiAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgZWwsIHsgJ2tleSc6IE1hdGgucmFuZG9tKCkgKiAxMDAgfSlcclxuICAgICAgOiBlbFxyXG4gIH1cclxuXHJcbiAgX2FkZEtleVRvQXJyYXlFbGVtZW50cyhpdGVtKSB7XHJcbiAgICByZXR1cm4gaXRlbS5tYXAoKGVsKSA9PiB0aGlzLl9hZGRLZXlUb0VsZW1lbnQoZWwpKVxyXG4gIH1cclxuXHJcbiAgX3Byb2Nlc3NDdXN0b21FbGVtZW50cyhpdGVtcykge1xyXG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoZWwpID0+IHtcclxuICAgICAgaWYgKCFlbCkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH1cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZEtleVRvQXJyYXlFbGVtZW50cyhlbClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5fYWRkS2V5VG9FbGVtZW50KGVsKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIF9hcHBlbmRBbmRQcmVwZW5kRWxlbWVudHMob3JpZ2luYWxCcmVhZENydW1icykge1xyXG4gICAgbGV0IGNydW1icyA9IFtdXHJcbiAgICBsZXQgYXBwZW5kQW5kUHJlcGVuZCA9IHRoaXMuX3Byb2Nlc3NDdXN0b21FbGVtZW50cyhbb3JpZ2luYWxCcmVhZENydW1icy5zaGlmdCgpLCBvcmlnaW5hbEJyZWFkQ3J1bWJzLnBvcCgpXSlcclxuICAgIGlmIChhcHBlbmRBbmRQcmVwZW5kWzBdKSB7XHJcbiAgICAgIGNydW1icy51bnNoaWZ0KGFwcGVuZEFuZFByZXBlbmRbMF0pXHJcbiAgICB9XHJcbiAgICBjcnVtYnMucHVzaChvcmlnaW5hbEJyZWFkQ3J1bWJzWzBdKVxyXG4gICAgaWYgKGFwcGVuZEFuZFByZXBlbmRbMV0pIHtcclxuICAgICAgY3J1bWJzLnB1c2goYXBwZW5kQW5kUHJlcGVuZFsxXSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3J1bWJzLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYy5jb25jYXQoY3VyKSwgW10pLmZpbHRlcigoZSkgPT4gZSlcclxuICB9XHJcblxyXG4gIF9yZXNvbHZlUm91dGVOYW1lKHJvdXRlKSB7XHJcbiAgICBsZXQgbmFtZSA9IHRoaXMuX2dldERpc3BsYXlOYW1lKHJvdXRlKVxyXG4gICAgaWYgKCFuYW1lICYmIHJvdXRlLmJyZWFkY3J1bWJOYW1lKSB7XHJcbiAgICAgIG5hbWUgPSByb3V0ZS5icmVhZGNydW1iTmFtZVxyXG4gICAgfVxyXG4gICAgaWYgKCFuYW1lICYmIHJvdXRlLmxhYmVsKSB7XHJcbiAgICAgIG5hbWUgPSByb3V0ZS5sYWJlbFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVcclxuICB9XHJcblxyXG4gIF9wcm9jZXNzUm91dGUocm91dGUsIHJvdXRlc0xlbmd0aCwgbGFzdENydW1iLCBjcmVhdGVFbGVtZW50KSB7XHJcbiAgICAvLyBJZiB0aGVyZSBpcyBubyByb3V0ZSBwYXRoIGRlZmluZWQgYW5kIHdlIGFyZSBzZXQgdG8gaGlkZSB0aGVzZSB0aGVuIGRvIHNvXHJcbiAgICBpZiAoIXJvdXRlLnBhdGggJiYgdGhpcy5wcm9wcy5oaWRlTm9QYXRoKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlcGFyYXRvciA9ICcnXHJcbiAgICBsZXQgbmFtZSA9IHRoaXMuX3Jlc29sdmVSb3V0ZU5hbWUocm91dGUpXHJcbiAgICBpZiAobmFtZVxyXG4gICAgICAmJiAnZXhjbHVkZXMnIGluIHRoaXMucHJvcHNcclxuICAgICAgJiYgdGhpcy5wcm9wcy5leGNsdWRlcy5zb21lKChpdGVtKSA9PiBpdGVtID09PSBuYW1lKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGxldCBtYWtlTGluayA9IHRydWVcclxuXHJcbiAgICAvLyBEb24ndCBtYWtlIGxpbmsgaWYgcm91dGUgZG9lc24ndCBoYXZlIGEgY2hpbGQgcm91dGVcclxuICAgIGlmIChtYWtlTGluaykge1xyXG4gICAgICBtYWtlTGluayA9IEJvb2xlYW4ocm91dGUuY2hpbGRSb3V0ZXMpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIHNlcGFyYXRvclxyXG4gICAgc2VwYXJhdG9yID0gbGFzdENydW1iID8gJycgOiB0aGlzLnByb3BzLnNlcGFyYXRvclxyXG4gICAgaWYgKCFtYWtlTGluaykge1xyXG4gICAgICBzZXBhcmF0b3IgPSAnJ1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERvbid0IG1ha2UgbGluayBpZiByb3V0ZSBoYXMgYSBkaXNhYmxlZCBicmVhZGNydW1ibGluayBwcm9wXHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJvdXRlLCAnYnJlYWRjcnVtYmxpbmsnKSkge1xyXG4gICAgICBtYWtlTGluayA9IHJvdXRlLmJyZWFkY3J1bWJsaW5rXHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwbGFjZSByb3V0ZSBwYXJhbSB3aXRoIHJlYWwgcGFyYW0gKGlmIHByb3ZpZGVkKVxyXG4gICAgbGV0IGN1cnJlbnRLZXkgPSByb3V0ZS5wYXRoLnNwbGl0KCcvJylbcm91dGUucGF0aC5zcGxpdCgnLycpLmxlbmd0aCAtIDFdXHJcbiAgICBsZXQga2V5VmFsdWVcclxuICAgIHJvdXRlLnBhdGguc3BsaXQoJy8nKS5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgcGFyYW0sIG9yIHdlJ3ZlIGJlZW4gZ2l2ZW4gbm8gcGFyYW1zIHRvIHJlcGxhY2Ugd2l0aCwgd2UgbmVlZCBub3QgZG8gYW55dGhpbmdcclxuICAgICAgaWYgKGxpbmsuc3Vic3RyaW5nKDAsIDEpICE9PSAnOicgfHwgIXRoaXMucHJvcHMucGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGtleVZhbHVlID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5wYXJhbXMpLm1hcCgocGFyYW0pID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wYXJhbXNbcGFyYW1dXHJcbiAgICAgIH0pXHJcbiAgICAgIGxldCBwYXRoV2l0aFBhcmFtID0gcm91dGUucGF0aC5zcGxpdCgnLycpLm1hcCgobGluaykgPT4ge1xyXG4gICAgICAgIGlmIChsaW5rLnN1YnN0cmluZygwLCAxKSA9PT0gJzonKSB7XHJcbiAgICAgICAgICByZXR1cm4ga2V5VmFsdWUuc2hpZnQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGlua1xyXG4gICAgICB9KVxyXG4gICAgICByb3V0ZS5wYXRoID0gcGF0aFdpdGhQYXJhbS5yZWR1Y2UoKHN0YXJ0LCBsaW5rKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgJy8nICsgbGlua1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCFyb3V0ZS5zdGF0aWNOYW1lICYmIGN1cnJlbnRLZXkuc3Vic3RyaW5nKDAsIDEpID09PSAnOicpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHJvdXRlLmdldERpc3BsYXlOYW1lID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICBuYW1lID0gcm91dGUuZ2V0RGlzcGxheU5hbWUuYmluZChudWxsLCB0aGlzLnByb3BzLnBhcmFtcykoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuYW1lID0gcGF0aFdpdGhQYXJhbS5yZWR1Y2UoKHN0YXJ0LCBsaW5rKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5rXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiByb3V0ZS5wcmV0dGlmeVBhcmFtID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgbmFtZSA9IHJvdXRlLnByZXR0aWZ5UGFyYW0obmFtZSwgdGhpcy5wcm9wcy5wYXJhbXMpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMucHJldHRpZnkpIHtcclxuICAgICAgLy8gTm90ZTogdGhpcyBjb3VsZCBiZSByZXBsYWNlZCB3aXRoIGEgbW9yZSBjb21wbGV4IHByZXR0aWZpZXJcclxuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvLS9nLCAnICcpXHJcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xcd1xcUyovZywgZnVuY3Rpb24gKHR4dCkge1xyXG4gICAgICAgIHJldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGluayA9IG5hbWVcclxuICAgIHZhciBpdGVtQ2xhc3MgPSB0aGlzLnByb3BzLml0ZW1DbGFzc1xyXG4gICAgaWYgKG1ha2VMaW5rKSB7XHJcbiAgICAgIGlmIChjcmVhdGVFbGVtZW50KSB7XHJcbiAgICAgICAgbGluayA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICB0aGlzLnByb3BzLkxpbmsgfHwgTGluayxcclxuICAgICAgICAgIHsgJ3RvJzogcm91dGUucGF0aCB9LFxyXG4gICAgICAgICAgbmFtZVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXRlbUNsYXNzICs9ICcgJyArIHRoaXMucHJvcHMuYWN0aXZlSXRlbUNsYXNzXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjcmVhdGVFbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiBsaW5rXHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcclxuICAgICAgdGhpcy5wcm9wcy5pdGVtRWxlbWVudCxcclxuICAgICAgeyAnY2xhc3NOYW1lJzogaXRlbUNsYXNzLCAna2V5JzogTWF0aC5yYW5kb20oKSAqIDEwMCB9LFxyXG4gICAgICBsaW5rLFxyXG4gICAgICBzZXBhcmF0b3JcclxuICAgIClcclxuICB9XHJcblxyXG4gIF9idWlsZFJvdXRlcyhyb3V0ZXMsIGNyZWF0ZUVsZW1lbnQsIHByZXBlbmQsIGFwcGVuZCkge1xyXG4gICAgbGV0IGNydW1icyA9IFtdXHJcbiAgICBsZXQgcGFyZW50UGF0aCA9ICcvJ1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgaW5pdGlhbCBsaXN0IG9mIHJvdXRlcyBhbmQgcmVtb3ZlIGFsbCB0aGF0IGRvbid0IGFwcGx5XHJcbiAgICByb3V0ZXMgPSByb3V0ZXNcclxuICAgICAgLm1hcCgoX3JvdXRlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGxldCByb3V0ZSA9IE9iamVjdC5hc3NpZ24oe30sIF9yb3V0ZSlcclxuICAgICAgICBpZiAodHlwZW9mIF9yb3V0ZS5wcmV0dGlmeVBhcmFtID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICByb3V0ZS5wcmV0dGlmeVBhcmFtID0gX3JvdXRlLnByZXR0aWZ5UGFyYW1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCdwcm9wcycgaW4gcm91dGUgJiYgJ3BhdGgnIGluIHJvdXRlLnByb3BzKSB7XHJcbiAgICAgICAgICByb3V0ZS5wYXRoID0gcm91dGUucHJvcHMucGF0aFxyXG4gICAgICAgICAgcm91dGUuY2hpbGRyZW4gPSByb3V0ZS5wcm9wcy5jaGlsZHJlblxyXG4gICAgICAgICAgcm91dGUubGFiZWwgPSByb3V0ZS5wcm9wcy5sYWJlbFxyXG4gICAgICAgICAgcm91dGUucHJldHRpZnlQYXJhbSA9IHJvdXRlLnByb3BzLnByZXR0aWZ5UGFyYW1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyb3V0ZS5wYXRoKSB7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocm91dGUucGF0aC5jaGFyQXQoMCkgPT09ICcvJykge1xyXG4gICAgICAgICAgcGFyZW50UGF0aCA9IHJvdXRlLnBhdGhcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHBhcmVudFBhdGguY2hhckF0KHBhcmVudFBhdGgubGVuZ3RoIC0gMSkgIT09ICcvJykge1xyXG4gICAgICAgICAgICBwYXJlbnRQYXRoICs9ICcvJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcGFyZW50UGF0aCArPSByb3V0ZS5wYXRoXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmRleCA+IDAgJiYgcm91dGUucGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG4gICAgICAgICAgcm91dGUucGF0aCA9IHBhcmVudFBhdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLl9yZXNvbHZlUm91dGVOYW1lKHJvdXRlKVxyXG4gICAgICAgIGlmICgodGhpcy5wcm9wcy5kaXNwbGF5TWlzc2luZyB8fCBuYW1lKSAmJiAhKCdleGNsdWRlcycgaW4gdGhpcy5wcm9wcyAmJiB0aGlzLnByb3BzLmV4Y2x1ZGVzLnNvbWUoKGl0ZW0pID0+IGl0ZW0gPT09IG5hbWUpKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHJvdXRlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5maWx0ZXIoKHJvdXRlKSA9PiAoQm9vbGVhbihyb3V0ZSkpKVxyXG5cclxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgcHJ1bmVkIGxpc3Qgb2Ygcm91dGVzIGFuZCBidWlsZCB0aGUgY3J1bWJzIGZvciBlYWNoXHJcbiAgICBjcnVtYnMgPSByb3V0ZXNcclxuICAgICAgLm1hcCgocm91dGUsIGlkeCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzUm91dGUocm91dGUsIHJvdXRlcy5sZW5ndGgsIHJvdXRlcy5sZW5ndGggPT09IGlkeCArIDEsIGNyZWF0ZUVsZW1lbnQpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5maWx0ZXIoKGNydW1iKSA9PiAoQm9vbGVhbihjcnVtYikpKVxyXG5cclxuICAgIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET01cclxuICAgICAgJiYgd2luZG93XHJcbiAgICAgICYmIHdpbmRvdy5kb2N1bWVudFxyXG4gICAgICAmJiAnc2V0RG9jdW1lbnRUaXRsZScgaW4gdGhpcy5wcm9wc1xyXG4gICAgICAmJiB0aGlzLnByb3BzLnNldERvY3VtZW50VGl0bGVcclxuICAgICAgJiYgY3J1bWJzW2NydW1icy5sZW5ndGggLSAxXS5wcm9wcy5jaGlsZHJlblswXSA+IDApIHtcclxuICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gY3J1bWJzW2NydW1icy5sZW5ndGggLSAxXS5wcm9wcy5jaGlsZHJlblswXS5wcm9wcy5jaGlsZHJlblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmVwZW5kIHx8IGFwcGVuZCkge1xyXG4gICAgICBjcnVtYnMgPSB0aGlzLl9hcHBlbmRBbmRQcmVwZW5kRWxlbWVudHMoW3ByZXBlbmQsIGNydW1icywgYXBwZW5kXSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNyZWF0ZUVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIGNydW1ic1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxyXG4gICAgICB0aGlzLnByb3BzLndyYXBwZXJFbGVtZW50LFxyXG4gICAgICB7ICdjbGFzc05hbWUnOiB0aGlzLnByb3BzLmN1c3RvbUNsYXNzIHx8IHRoaXMucHJvcHMud3JhcHBlckNsYXNzIH0sXHJcbiAgICAgIGNydW1ic1xyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2J1aWxkUm91dGVzKHRoaXMucHJvcHMucm91dGVzLCB0aGlzLnByb3BzLmNyZWF0ZUVsZW1lbnQsIHRoaXMucHJvcHMucHJlcGVuZCwgdGhpcy5wcm9wcy5hcHBlbmQpXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHByb3BlcnR5IFByb3BUeXBlc1xyXG4gKiBAZGVzY3JpcHRpb24gUHJvcGVydHkgdHlwZXMgc3VwcG9ydGVkIGJ5IHRoaXMgY29tcG9uZW50XHJcbiAqIEB0eXBlIHt7c2VwYXJhdG9yOiAqLCBjcmVhdGVFbGVtZW50OiAqLCBkaXNwbGF5TWlzc2luZzogKiwgd3JhcHBlckVsZW1lbnQ6ICosIHdyYXBwZXJDbGFzczogKiwgaXRlbUVsZW1lbnQ6ICosIGl0ZW1DbGFzczogKiwgYWN0aXZlSXRlbUNsYXNzOiAqLCAgY3VzdG9tQ2xhc3M6ICosZXhjbHVkZXM6ICosIGFwcGVuZDogKiwgcHJlcGVuZDogKiwgcGFyYW1zOiAqLCBMaW5rOiAqfX1cclxuICovXHJcbkJyZWFkY3J1bWJzLnByb3BUeXBlcyA9IHtcclxuICAncGFyYW1zJzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICdwcmVwZW5kJzogUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICBQcm9wVHlwZXMubm9kZSxcclxuICAgIFByb3BUeXBlcy5ib29sXHJcbiAgXSksXHJcbiAgJ2FwcGVuZCc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLm5vZGUsXHJcbiAgICBQcm9wVHlwZXMuYm9vbFxyXG4gIF0pLFxyXG4gICdzZXBhcmF0b3InOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5lbGVtZW50LFxyXG4gICAgUHJvcFR5cGVzLnN0cmluZ1xyXG4gIF0pLFxyXG4gICdjcmVhdGVFbGVtZW50JzogUHJvcFR5cGVzLmJvb2wsXHJcbiAgJ0xpbmsnOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcclxuICAgIFByb3BUeXBlcy5lbGVtZW50LFxyXG4gICAgUHJvcFR5cGVzLnN0cmluZ1xyXG4gIF0pLFxyXG4gICdkaXNwbGF5TWlzc2luZyc6IFByb3BUeXBlcy5ib29sLFxyXG4gICdwcmV0dGlmeSc6IFByb3BUeXBlcy5ib29sLFxyXG4gICdkaXNwbGF5TWlzc2luZ1RleHQnOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICd3cmFwcGVyRWxlbWVudCc6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xyXG4gICAgUHJvcFR5cGVzLmVsZW1lbnQsXHJcbiAgICBQcm9wVHlwZXMuc3RyaW5nXHJcbiAgXSksXHJcbiAgJ3dyYXBwZXJDbGFzcyc6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgJ2l0ZW1FbGVtZW50JzogUHJvcFR5cGVzLm9uZU9mVHlwZShbXHJcbiAgICBQcm9wVHlwZXMuZWxlbWVudCxcclxuICAgIFByb3BUeXBlcy5zdHJpbmdcclxuICBdKSxcclxuICAnaXRlbUNsYXNzJzogUHJvcFR5cGVzLnN0cmluZyxcclxuICAnY3VzdG9tQ2xhc3MnOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICdhY3RpdmVJdGVtQ2xhc3MnOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICdleGNsdWRlcyc6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxyXG4gICdoaWRlTm9QYXRoJzogUHJvcFR5cGVzLmJvb2wsXHJcbiAgJ3JvdXRlcyc6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLmlzUmVxdWlyZWQsXHJcbiAgJ3NldERvY3VtZW50VGl0bGUnOiBQcm9wVHlwZXMuYm9vbFxyXG59XHJcblxyXG4vKipcclxuICogQHByb3BlcnR5IGRlZmF1bHRQcm9wc1xyXG4gKiBAZGVzY3JpcHRpb24gc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZXMgZm9yIHByb3BUeXBlcyBpZiB0aGV5IGFyZSBub3QgcHJvdmlkZWRcclxuICogQHR5cGUge3tzZXBhcmF0b3I6IHN0cmluZywgZGlzcGxheU1pc3Npbmc6IGJvb2xlYW4sIHdyYXBwZXJFbGVtZW50OiBzdHJpbmcsIGl0ZW1FbGVtZW50OiBzdHJpbmcsIHdyYXBwZXJDbGFzczogc3RyaW5nLCBjdXN0b21DbGFzczogc3RyaW5nLCBwcmVwZW5kOiBmYWxzZSwgYXBwZW5kOiBmYWxzZX19XHJcbiAqL1xyXG5CcmVhZGNydW1icy5kZWZhdWx0UHJvcHMgPSB7XHJcbiAgJ3ByZXBlbmQnOiBmYWxzZSxcclxuICAnYXBwZW5kJzogZmFsc2UsXHJcbiAgJ3NlcGFyYXRvcic6ICcnLFxyXG4gICdjcmVhdGVFbGVtZW50JzogdHJ1ZSxcclxuICAnZGlzcGxheU1pc3NpbmcnOiB0cnVlLFxyXG4gICdkaXNwbGF5TWlzc2luZ1RleHQnOiAnTWlzc2luZyBuYW1lIHByb3AgZnJvbSBSb3V0ZScsXHJcbiAgJ3dyYXBwZXJFbGVtZW50JzogJ2RpdicsXHJcbiAgJ3dyYXBwZXJDbGFzcyc6ICdicmVhZGNydW1icycsXHJcbiAgJ2l0ZW1FbGVtZW50JzogJ3NwYW4nLFxyXG4gICdpdGVtQ2xhc3MnOiAnJyxcclxuICAnYWN0aXZlSXRlbUNsYXNzJzogJycsXHJcbiAgJ2V4Y2x1ZGVzJzogWycnXSxcclxuICAncHJldHRpZnknOiBmYWxzZSxcclxuICAnaGlkZU5vUGF0aCc6IHRydWUsXHJcbiAgJ3NldERvY3VtZW50VGl0bGUnOiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCcmVhZGNydW1icyIsImltcG9ydCBsaXN0VG9UcmVlIGZyb20gJ2xpc3QtdG8tdHJlZSdcclxuaW1wb3J0IHsgQ29sbGFwc2UgfSBmcm9tICdyZWFjdHN0cmFwJ1xyXG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xyXG5cclxuY2xhc3MgQ2F0ZWdvcnlNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcmllcywgb3Blbkxpc3RCeURlZmF1bHQgfSA9IHByb3BzXHJcblxyXG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcgbGlzdFRvVHJlZShjYXRlZ29yaWVzLCB7IGtleV9wYXJlbnQ6ICdwYXJlbnRJZCcsIGtleV9jaGlsZDogJ2NoaWxkcmVuJyB9KS5HZXRUcmVlKClcclxuXHJcbiAgICAgICAgdmFyIGNvbGxhcHNlID0ge31cclxuXHJcbiAgICAgICAgZm9yKHZhciBpbmRleCBpbiBjYXRlZ29yaWVzKXtcclxuICAgICAgICAgICAgY29sbGFwc2VbY2F0ZWdvcmllc1tpbmRleF0ubmFtZV0gPSBvcGVuTGlzdEJ5RGVmYXVsdFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgY29sbGFwc2UsXHJcbiAgICAgICAgICAgIHRyZWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyQ2F0ZWdvcmllcyA9IHRoaXMucmVuZGVyQ2F0ZWdvcmllcy5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5yZW5kZXJDYXRlZ29yeSA9IHRoaXMucmVuZGVyQ2F0ZWdvcnkuYmluZCh0aGlzKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNhdGVnb3JpZXMoY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjYXRlZ29yeS1tZW51LWRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJdGVtcy5tYXAoKGNhdGVnb3J5SXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2F0ZWdvcnkoY2F0ZWdvcnlJdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNhdGVnb3J5KHsgdGl0bGUsIGlkLCBuYW1lLCBjaGlsZHJlbiB9LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBjb25zdCB7IG9uRGF0YUZldGNoLCBjdXJyZW50Q2F0ZWdvcnkgfSA9IHRoaXMucHJvcHNcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGxpIGlkPXsgaWQgJiYgYGNhdGVnb3J5LSR7aWR9YCB9IGRhdGEtbmFtZT17IG5hbWUgfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJjYXRlZ29yeS1tZW51LWl0ZW1cIiwgY2xhc3NOYW1lLCB7J2N1cnJlbnQnOiBjdXJyZW50Q2F0ZWdvcnkgJiYgY3VycmVudENhdGVnb3J5LmlkID09PSBpZCB9KX0gPlxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJhbGwgY2F0ZWdvcnktbWVudS1pdGVtLWxpbmtcIiBvbkNsaWNrPXsgKGUpID0+IHsgXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRGF0YUZldGNoKHtjdXJyZW50Q2F0ZWdvcnk6IHsgdGl0bGUsIGlkLCBuYW1lIH19LCAwKSB9IH0+XHJcbiAgICAgICAgICAgICAgICAgICAgeyB0aXRsZSB9XHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNoZXZyb25cIiBvbkNsaWNrPXsoKSA9PiB7IHRoaXMudG9vZ2xlKG5hbWUpIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtYW5nbGUtZG93blwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sbGFwc2UgaXNPcGVuPXsgdGhpcy5zdGF0ZS5jb2xsYXBzZVsgbmFtZSBdIH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDYXRlZ29yaWVzKGNoaWxkcmVuKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHRvb2dsZShuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgeyBjb2xsYXBzZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtjb2xsYXBzZTogJC5leHRlbmQodHJ1ZSwge30sIGNvbGxhcHNlLCB7W25hbWVdOiAhY29sbGFwc2VbbmFtZV19KX0pXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0ICB7Y3VycmVudENhdGVnb3J5fSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyB0cmVlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImNhdGVnb3J5LW1lbnVcIj5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjYXRlZ29yeS1tZW51LWxpc3QgZC1ub25lIGQtbGctYmxvY2tcIj5cclxuICAgICAgICAgICAgICAgICAgICB7IHRoaXMucmVuZGVyQ2F0ZWdvcnkoeyB0aXRsZTogbG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZygnVOG6pXQgY+G6oycpIH0sICFjdXJyZW50Q2F0ZWdvcnkgJiYgJ2N1cnJlbnQnKSB9XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlICYmIHRyZWUubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2F0ZWdvcnkoaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5DYXRlZ29yeU1lbnUuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgY2F0ZWdvcmllczogW10sXHJcbiAgICBvcGVuTGlzdEJ5RGVmYXVsdDogdHJ1ZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeU1lbnUiLCJpbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdyZWFjdHN0cmFwJ1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcclxuaW1wb3J0IHsgZGVmYXVsdCBhcyBCcmVhZGNydW1icyB9IGZyb20gJy4vYnJlYWNydW1icydcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuXHJcbmNvbnN0IENvbm5lY3RlZEJyZWFkY3J1bWJzID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCB7IHJvdXRlcywgcGFyYW1zIH0gPSBwcm9wcztcclxuICAgIGlmIChyb3V0ZXMpXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJkLW5vbmUgZC1sZy1ibG9jayBtYi1sZy00XCI+XHJcbiAgICAgICAgICAgICAgICA8QnJlYWRjcnVtYnMgTGluaz17IExpbmsgfSByb3V0ZXM9eyByb3V0ZXMgfSBwYXJhbXM9eyBwYXJhbXMgfSBzZXREb2N1bWVudFRpdGxlPXsgdHJ1ZSB9IC8+XHJcbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgIClcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5jb25zdCBzdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgICByb3V0ZXM6IHN0YXRlLmFwcFJvdXRlci5yb3V0ZVBhdGhcclxufSk7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChzdGF0ZVRvUHJvcHMpKENvbm5lY3RlZEJyZWFkY3J1bWJzKSIsImNvbnN0IHsgTGluayB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbScpO1xyXG5cclxuY2xhc3MgRHVBbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyTGluayA9IHRoaXMucmVuZGVyTGluay5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckxpbmsodGl0bGUpIHtcclxuICAgICAgICByZXR1cm4oXHJcbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL2R1LWFuXCI+PHNwYW4+e3RpdGxlfTwvc3Bhbj48L0xpbms+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdGh1bWJuYWlsVXJsLCB0aXRsZX0gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgZGF0YS1hb3M9XCJ6b29tLWluLXVwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaXRlbS10aHVtYm5haWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cInctMTAwXCIgc3JjPXtgLyR7dGh1bWJuYWlsVXJsfWB9Lz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTGluayhsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiQ2hpIHRp4bq/dFwiKSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTGluayh0aXRsZSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBEdUFuOyIsIm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCB7IHVybCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjbGFzc05hbWUgfSA9IHByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGltZyBjbGFzc05hbWU9e2B3LTEwMCAke2NsYXNzTmFtZX1gfSBzcmM9e2AvJHt1cmx9YH0gdGl0bGU9e3RpdGxlfSBhbHQ9e2Rlc2NyaXB0aW9ufS8+XHJcbiAgICApO1xyXG59IiwiY29uc3QgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzTmFtZXMnKTtcclxuY29uc3QgeyBDb250YWluZXIsIFJvdyB9ID0gcmVxdWlyZSgncmVhY3RzdHJhcCcpO1xyXG5jb25zdCBUaXRsZSA9IHJlcXVpcmUoJy4vc2VjdGlvbi10aXRsZScpO1xyXG5jb25zdCBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKTtcclxuXHJcbmNvbnN0IHJlbmRlckFydGljbGUgPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IHsgY2xhc3NOYW1lLCB0aHVtYm5haWwsIHRpdGxlLCBjb250ZW50IH0gPSBwcm9wcztcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPXtjbGFzc25hbWVzKGNsYXNzTmFtZSl9PlxyXG4gICAgICAgICAgICA8Q29udGFpbmVyIGZsdWlkIGNsYXNzTmFtZT1cIm1iLTVcIj5cclxuICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPEltYWdlIGNsYXNzTmFtZT1cImgtMTAwXCIgey4uLnRodW1ibmFpbH0gLz5cclxuICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPENvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDxUaXRsZT57dGl0bGV9PC9UaXRsZT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMyBtci0zIG1sLWxnLTAgbXItbGctMFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogY29udGVudCB9fSAvPlxyXG4gICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICA8L2FydGljbGU+XHJcbiAgICApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJlbmRlckFydGljbGU7IiwibW9kdWxlLmV4cG9ydHMgPSAocHJvcHMpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlIHctMTAwIHRleHQtY2VudGVyIG1iLTMgbWItbGctNCBtYi1sZy01XCI+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSIsImNsYXNzIFNpZGViYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHNcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwic2lkZWJhciBtci1sZy00XCI+XHJcbiAgICAgICAgICAgICAgICB7IGNoaWxkcmVuIH1cclxuICAgICAgICAgICAgPC9hc2lkZT5cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNpZGViYXIiLCLvu79jb25zdCB7IGNvbWJpbmVSZWR1Y2VycyB9ID0gcmVxdWlyZSgncmVkdXgnKTtcclxuY29uc3QgeyByb3V0ZXJSZWR1Y2VyIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItcmVkdXgnKTtcclxuXHJcbi8vcmVkdWNlcnNcclxuY29uc3QgbG9jYWxpemF0aW9uID0gcmVxdWlyZSgnLi9yZWR1Y2Vycy9sb2NhbGl6YXRpb24nKS5yZWR1Y2VyO1xyXG5jb25zdCBtZW51ID0gcmVxdWlyZSgnLi9fbGF5b3V0L2hlYWRlci9tZW51JykucmVkdWNlcjtcclxuY29uc3QgbGF5b3V0ID0gcmVxdWlyZSgnLi9fbGF5b3V0JykucmVkdWNlcjtcclxuY29uc3QgY29ubmVjdGVkQmFzZVBhZ2UgPSByZXF1aXJlKCcuL19sYXlvdXQvbWFpbi9jb25uZWN0ZWQtYmFzZS1wYWdlJykucmVkdWNlcjtcclxuXHJcbmltcG9ydCB7IHJlZHVjZXIgYXMgYXBwUm91dGVyIH0gZnJvbSAnLi4vcm91dGVzJ1xyXG5cclxuY29uc3QgcmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XHJcbiAgICBsYXlvdXQsXHJcbiAgICBsb2NhbGl6YXRpb24sXHJcbiAgICBtZW51LFxyXG4gICAgY29ubmVjdGVkQmFzZVBhZ2UsXHJcbiAgICByb3V0ZXI6IHJvdXRlclJlZHVjZXIsXHJcbiAgICBhcHBSb3V0ZXJcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmVkdWNlcjsiLCLvu79jb25zdCAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcblxyXG5jb25zdCBrZXlzID0ge1xyXG4gICAgaW5pdDogXCJJTklUXCIsXHJcbiAgICBzd2l0aExhbmd1YWdlOiBcIlNXSVRIX0xBTkdVQUdFXCIsXHJcbn1cclxuXHJcbmNvbnN0IGFjdGlvbnMgPSB7XHJcbiAgICBzd2l0aExhbmd1YWdlOiAobGFuZ3VhZ2UpID0+ICh7XHJcbiAgICAgICAgdHlwZToga2V5cy5zd2l0aExhbmd1YWdlLFxyXG4gICAgICAgIGxhbmd1YWdlXHJcbiAgICB9KSxcclxuXHJcbiAgICAvL2luaXRTdGF0ZTpcclxuICAgIC8vIC0gbGFuZ3VhZ2VzXHJcbiAgICAvLyAtIGN1cnJlbnRMYW5ndWFnZVxyXG4gICAgaW5pdDogKGluaXRTdGF0ZSkgPT4gKHtcclxuICAgICAgICB0eXBlOiBrZXlzLmluaXQsXHJcbiAgICAgICAgaW5pdFN0YXRlXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCByZWR1Y2VyID0gKHN0YXRlID0ge30sIGFjdGlvbikgPT4ge1xyXG4gICAgY29uc3QgbmV3U3RhdGUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgc3RhdGUpO1xyXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2Uga2V5cy5pbml0OlxyXG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLmluaXRTdGF0ZTtcclxuICAgICAgICBjYXNlIGtleXMuc3dpdGhMYW5ndWFnZTpcclxuICAgICAgICAgICAgbmV3U3RhdGUuY3VycmVudExhbmd1YWdlID0gYWN0aW9ucy5sYW5ndWFnZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1N0YXRlO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGFjdGlvbnMsXHJcbiAgICByZWR1Y2VyXHJcbn0iLCJpbXBvcnQgZGF0YVJlcXVlc3QgZnJvbSAnLi91bHRpbGl0aWVzL3JlcXVlc3REYXRhJztcclxuXHJcbmV4cG9ydCB7IGRhdGFSZXF1ZXN0IH0iLCJjb25zdCByZXF1ZXN0RGF0YSA9ICh1cmwsIHBhZ2VTaXplLCBwYWdlLCBzb3J0ZWQsIGZpbHRlcmluZywgdGF4b25vbWllcywgY2FsbGJhY2spID0+IHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgZGF0YTogeyBwYWdlU2l6ZSwgcGFnZSwgc29ydGVkLCBmaWx0ZXJpbmcsIHRheG9ub21pZXMgfSxcclxuICAgICAgICBzdWNjZXNzOiBjYWxsYmFja1xyXG4gICAgfSk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSByZXF1ZXN0RGF0YVxyXG4iLCLvu79cclxuY29uc3QgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5jb25zdCBjbGFzc05hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xyXG5cclxuY29uc3QgeyBMaW5rIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XHJcbmNvbnN0IHsgUm93LCBDb2wgfSA9IHJlcXVpcmUoJ3JlYWN0c3RyYXAnKTtcclxuY29uc3QgVGl0bGUgPSByZXF1aXJlKCcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9zZWN0aW9uLXRpdGxlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHsgIFxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnY29uZy10cmluaCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XHJcbiAgICAgICAgICAgICAgICA8VGl0bGU+e2xvY2FsaXphdGlvblN0cmluZy5nZXRTdHJpbmcoJ0PDtG5nIHRyw6xuaCcpfTwvVGl0bGU+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiMTJcIiBtZD17Nn0gY2xhc3NOYW1lPVwicHItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm1iLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLWFvcz1cImZhZGUtbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmsgbGluay1raGFjaC1zYW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cInRpdGxlXCIgdG89XCIvXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiS2jDoWNoPGJyLz5z4bqhblwiKSB9fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJ3LTEwMFwiIHNyYz1cIi9pbWcva2hhY2gtc2FuLWNvdmVyLmpwZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q29sPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1hb3M9XCJmYWRlLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5rIGxpbmstY2FuLWhvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJ0aXRsZVwiIHRvPVwiL1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyhcIkPEg248YnIvPmjhu5lcIikgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwidy0xMDBcIiBzcmM9XCIvaW1nL2Nhbi1oby1jb3Zlci5qcGdcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCIxMlwiIG1kPXs2fSBjbGFzc05hbWU9XCJwbC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMDBcIiBkYXRhLWFvcz1cImZsaXAtbGVmdFwiIGRhdGEtYW9zLWRlbGF5PVwiMzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmsgbGluay1uaGEtb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cInRpdGxlXCIgdG89XCIvXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBsb2NhbGl6YXRpb25TdHJpbmcuZ2V0U3RyaW5nKFwiTmjDoCDhu59cIikgfX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJoLTEwMCB3LTEwMFwiIHNyYz1cIi9pbWcvbmhhLW8tY292ZXIuanBnXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCJjb25zdCB7IFJvdywgQ29sIH0gPSByZXF1aXJlKCAncmVhY3RzdHJhcCcgKTtcclxuY29uc3QgeyBMaW5rIH0gPSByZXF1aXJlKCAncmVhY3Qtcm91dGVyLWRvbScgKTtcclxuXHJcbmNvbnN0IFNlY3Rpb25UaXRsZSA9IHJlcXVpcmUoICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9zZWN0aW9uLXRpdGxlJyApO1xyXG5cclxuY29uc3QgRHVBbkl0ZW0gPSByZXF1aXJlKCAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvZHUtYW4vZHUtYW4nICk7XHJcblxyXG5jb25zdCB7IGRhdGFSZXF1ZXN0IH0gPSByZXF1aXJlKCAnLi4vLi4vc2hhcmVkL3VsdGlsaXRpZXMnICk7XHJcblxyXG5jbGFzcyBEdUFuIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCBwcm9wcyApIHtcclxuICAgICAgICBzdXBlciggcHJvcHMgKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBwcm9qZWN0czogW11cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRhdGFSZXF1ZXN0KCBcIi9wcm9qZWN0L0dldFRhYmxlRGF0YVwiLCA3LCAxLCBudWxsLCBudWxsLCBudWxsLCAoIHJlc3BvbnNlICkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKCB7IHByb2plY3RzOiByZXNwb25zZSB9ICk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17IHRoaXMucHJvcHMuY2xhc3NOYW1lIH0+XHJcbiAgICAgICAgICAgICAgICA8U2VjdGlvblRpdGxlPnsgbG9jYWxpemF0aW9uU3RyaW5nLmdldFN0cmluZyggJ0Thu7Egw6FuJyApIH08L1NlY3Rpb25UaXRsZT5cclxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwicHQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcm9qZWN0cy5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wcm9qZWN0cy5tYXAoKCBwcm9qZWN0LCBpbmRleCApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbCBrZXk9eyBwcm9qZWN0LmlkIH0geHM9XCI2XCIgbWQ9XCI0XCIgbGc9XCIzXCIgY2xhc3NOYW1lPVwicGFnZS1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEdUFuSXRlbSBkYXRhPXsgcHJvamVjdCB9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjZcIiBtZD1cIjRcIiBsZz1cIjNcIiBjbGFzc05hbWU9XCJwYWdlLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwMFwiIGRhdGEtYW9zPVwiem9vbS1pbi11cFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9qZWN0LWxvYWQtbW9yZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50IG1yLTMgbXItbGctNVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiY2FudC1maW5kXCI+IGNhbuKAmXQgZmluZDxiciAvPiB5b3VyIHByb2plY3Q8L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvdHMgY2xlYXJmaXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG90XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG90XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG90XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG90XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89XCIvZHUtYW5cIiBjbGFzc05hbWU9XCJidG4td2hpdGUgbXQtNFwiPkxvYWQgbW9yZTwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgIDwvc2VjdGlvbj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IER1QW47Iiwi77u/XHJcbmNvbnN0ICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuY29uc3QgT3dsQ2Fyb3VzZWwgPSByZXF1aXJlKCdyZWFjdC1vd2wtY2Fyb3VzZWwyJyk7XHJcblxyXG5jbGFzcyBTbGlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyl7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHNsaWRlczogW11cclxuICAgICAgICAgICAgLyogQ2jDuiDDvTogc2xpZGVzIGtow7RuZyBwaOG6o2kgbMOgIG3hu5l0IGFycmF5IGPhu6dhIGjDrG5oIOG6o25oLlxyXG4gICAgICAgICAgICBWw60gZOG7pSBjaG8gJ3NsaWRlcydcclxuICAgICAgICAgICAgICAgIHNsaWRlczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFRodW1iXCI6IFwidXBsb2Fkcy8yLzIwMTcvNi9zbGlkZXItMi0yMDE3LTYtOS0zMTBfdGh1bWIuanBnXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpbWVuc2lvblwiOiBcIlNpemUgWyBXaWR0aD0xMDU4LCBIZWlnaHQ9NDYzIF1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJzbGlkZXItMlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmaWxlTmFtZVwiOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJ1cGxvYWRzLzIvMjAxNy82L3NsaWRlci0yLTIwMTctNi05LTMxMC5qcGdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4dGVuc2lvblwiOiBcIi5qcGdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiBcIjE5NCBLQlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YXhvbm9teVR5cGVzXCI6IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sLi4uXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIEjDrG5oIOG6o25oKCdpbWFnZScpIGNo4buJIGzDoCBt4buZdCBwcm9wIGPhu6dhICdzbGlkZScsIHbDoCBjw7JuIG3hu5l0IHPhu5EgcHJvcCBraMOhYyBuaMawIGNhcHRpb24sIGV0Yy4uLiBz4bq9IMSRxrDhu6NjIHRow6ptIHbDoG8gc2F1IG7DoHkgbuG6v3UgY+G6p24gdGhp4bq/dC5cclxuICAgICAgICAgICAgKi8sXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgICAgICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJld2luZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkLmdldChcclxuICAgICAgICAgICAgXCIvYWxidW0vZ2V0c2luZ2xlP2VudGl0eU5hbWU9aG9tZS1zbGlkZXJcIixcclxuICAgICAgICAgICAgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzbGlkZXM6IHJlc3BvbnNlLmRldGFpbHMuaW1hZ2VzfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZSgpe1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpe1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XHJcbiAgICAgICAgICAgICAgICB7IHRoaXMuc3RhdGUuc2xpZGVzLmxlbmd0aCAmJiBcclxuICAgICAgICAgICAgICAgICAgICA8T3dsQ2Fyb3VzZWwgcmVmPXtvd2wgPT4ge3RoaXMub3dsID0gb3dsO319IG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc30+XHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNsaWRlcy5tYXAoKHNsaWRlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gaWQ9e2BzbGlkZSR7aW5kZXh9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtzbGlkZS5pbWFnZS51cmx9IGFsdD17c2xpZGUuaW1hZ2UuZGVzY3JpcHRpb259IHRpdGxlPXtzbGlkZS5pbWFnZS50aXRsZX0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L093bENhcm91c2VsPlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTbGlkZXI7Iiwi77u/XHJcbmNvbnN0IHsgQ29udGFpbmVyIH0gPSByZXF1aXJlKCdyZWFjdHN0cmFwJyk7XHJcbmNvbnN0IFNsaWRlciA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9zbGlkZXInKTtcclxuY29uc3QgQ29uVHJpbmggPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvY29uZy10cmluaCcpO1xyXG5jb25zdCBEdUFuID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL2R1LWFuJyk7XHJcblxyXG5jb25zdCBCYXNlUGFnZSA9IHJlcXVpcmUoJy4uL3NoYXJlZC9fbGF5b3V0L21haW4vYmFzZS1wYWdlJyk7XHJcblxyXG5jbGFzcyBQYWdlQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgICAgIGNvbnN0IHsgb25FcnJvciwgb25EYXRhRmV0Y2gsIGRhdGFGZXRjaFByb2dyZXNzIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICBpZihkYXRhRmV0Y2hQcm9ncmVzcyAhPSAxMDApXHJcbiAgICAgICAgICAgICQuZ2V0KCcvJywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoJ0Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgb25EYXRhRmV0Y2goeyB0ZW1wOiByZXNwb25zZSB9LCAxMDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhRmV0Y2hQcm9ncmVzcyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgaWYgKGRhdGFGZXRjaFByb2dyZXNzICE9IDEwMClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJnaW9pLXRoaWV1XCI+XHJcbiAgICAgICAgICAgICAgICA8U2xpZGVyIGNsYXNzTmFtZT1cIm1iLWxnLTVcIiAvPlxyXG4gICAgICAgICAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwdC01XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvblRyaW5oIGNsYXNzTmFtZT1cIm1iLTMgbWItbWQtNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPER1QW4gY2xhc3NOYW1lPVwicHQtNVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBCYXNlUGFnZSh7IHBhZ2U6ICd0cmFuZy1jaHUnIH0pKFBhZ2VDb21wb25lbnQpOyIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNSBKZWQgV2F0c29uLlxuICBCYXNlZCBvbiBjb2RlIHRoYXQgaXMgQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgY2FuVXNlRE9NID0gISEoXG5cdFx0dHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQgJiZcblx0XHR3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuXHQpO1xuXG5cdHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuXHRcdGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG5cdFx0Y2FuVXNlV29ya2VyczogdHlwZW9mIFdvcmtlciAhPT0gJ3VuZGVmaW5lZCcsXG5cblx0XHRjYW5Vc2VFdmVudExpc3RlbmVyczpcblx0XHRcdGNhblVzZURPTSAmJiAhISh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCB3aW5kb3cuYXR0YWNoRXZlbnQpLFxuXG5cdFx0Y2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW5cblxuXHR9O1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBFeGVjdXRpb25FbnZpcm9ubWVudDtcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkV4ZWN1dGlvbkVudmlyb25tZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQ7XG5cdH1cblxufSgpKTtcbiIsIi8vICAgICBVbmRlcnNjb3JlLmpzIDEuOC4zXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhclxuICAgIG5hdGl2ZUlzQXJyYXkgICAgICA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQsXG4gICAgbmF0aXZlQ3JlYXRlICAgICAgID0gT2JqZWN0LmNyZWF0ZTtcblxuICAvLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdC5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gXztcbiAgICB9XG4gICAgZXhwb3J0cy5fID0gXztcbiAgfSBlbHNlIHtcbiAgICByb290Ll8gPSBfO1xuICB9XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uLlxuICBfLlZFUlNJT04gPSAnMS44LjMnO1xuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlZmZpY2llbnQgKGZvciBjdXJyZW50IGVuZ2luZXMpIHZlcnNpb25cbiAgLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbiAgLy8gZnVuY3Rpb25zLlxuICB2YXIgb3B0aW1pemVDYiA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gICAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEEgbW9zdGx5LWludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNhbGxiYWNrcyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gIC8vIHRvIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZGVzaXJlZCByZXN1bHQg4oCUIGVpdGhlclxuICAvLyBpZGVudGl0eSwgYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIG9wdGltaXplQ2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHJldHVybiBfLm1hdGNoZXIodmFsdWUpO1xuICAgIHJldHVybiBfLnByb3BlcnR5KHZhbHVlKTtcbiAgfTtcbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUFzc2lnbmVyID0gZnVuY3Rpb24oa2V5c0Z1bmMsIHVuZGVmaW5lZE9ubHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgICAgbCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmICghdW5kZWZpbmVkT25seSB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoIV8uaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHJldHVybiBuYXRpdmVDcmVhdGUocHJvdG90eXBlKTtcbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZm9yIGNvbGxlY3Rpb24gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhIGNvbGxlY3Rpb25cbiAgLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdFxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHByb3BlcnR5KCdsZW5ndGgnKTtcbiAgdmFyIGlzQXJyYXlMaWtlID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuICAvLyBBbGlhc2VkIGFzIGBpbmNsdWRlc2AgYW5kIGBpbmNsdWRlYC5cbiAgXy5jb250YWlucyA9IF8uaW5jbHVkZXMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIGl0ZW0sIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggIT0gJ251bWJlcicgfHwgZ3VhcmQpIGZyb21JbmRleCA9IDA7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihvYmosIGl0ZW0sIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiYgKF8uaXNBcnJheSh2YWx1ZSkgfHwgXy5pc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIC8vZmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3RcbiAgICAgICAgaWYgKCFzaGFsbG93KSB2YWx1ZSA9IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCk7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBvdXRwdXQubGVuZ3RoICs9IGxlbjtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcbiAgICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIGZhbHNlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW56aXAoYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBDb21wbGVtZW50IG9mIF8uemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4gIC8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlc1xuICBfLnVuemlwID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgJiYgXy5tYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBpbmRleCBvbiBhbiBhcnJheS1saWtlIHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbWlkXSkgPCB2YWx1ZSkgbG93ID0gbWlkICsgMTsgZWxzZSBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4T2YgYW5kIGxhc3RJbmRleE9mIGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoc2xpY2UuY2FsbChhcnJheSwgaSwgbGVuZ3RoKSwgXy5pc05hTik7XG4gICAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICAgIH1cbiAgICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50c1xuICB2YXIgZXhlY3V0ZUJvdW5kID0gZnVuY3Rpb24oc291cmNlRnVuYywgYm91bmRGdW5jLCBjb250ZXh0LCBjYWxsaW5nQ29udGV4dCwgYXJncykge1xuICAgIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gc291cmNlRnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IF8gPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgICB9XG4gICAgICB3aGlsZSAocG9zaXRpb24gPCBhcmd1bWVudHMubGVuZ3RoKSBhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgICAgaWYgKCFfLmhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IF8ucGFydGlhbChfLmRlbGF5LCBfLCAxKTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm93ID0gXy5ub3coKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAvLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAgLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxhc3QgPSBfLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbiAgXy5iZWZvcmUgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHZhciBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gXy5wYXJ0aWFsKF8uYmVmb3JlLCAyKTtcblxuICAvLyBPYmplY3QgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBLZXlzIGluIElFIDwgOSB0aGF0IHdvbid0IGJlIGl0ZXJhdGVkIGJ5IGBmb3Iga2V5IGluIC4uLmAgYW5kIHRodXMgbWlzc2VkLlxuICB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuICB2YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gICAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG8gPSAoXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHx8IE9ialByb3RvO1xuXG4gICAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICAgIGlmIChfLmhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYFxuICBfLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIGlmIChuYXRpdmVLZXlzKSByZXR1cm4gbmF0aXZlS2V5cyhvYmopO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0XG4gIC8vIEluIGNvbnRyYXN0IHRvIF8ubWFwIGl0IHJldHVybnMgYW4gb2JqZWN0XG4gIF8ubWFwT2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSB7fSxcbiAgICAgICAgICBjdXJyZW50S2V5O1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjdXJyZW50S2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cyk7XG5cbiAgLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocylcbiAgLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4gIF8uZXh0ZW5kT3duID0gXy5hc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihfLmtleXMpO1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmplY3QsIG9pdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwgb2JqID0gb2JqZWN0LCBpdGVyYXRlZSwga2V5cztcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihvaXRlcmF0ZWUpKSB7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2Iob2l0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHsgcmV0dXJuIGtleSBpbiBvYmo7IH07XG4gICAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBfLm5lZ2F0ZShpdGVyYXRlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5tYXAoZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMsIHRydWUpO1xuXG4gIC8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbiAgLy8gSWYgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBwcm92aWRlZCB0aGVuIHRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgLy8gY3JlYXRlZCBvYmplY3QuXG4gIF8uY3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlLCBwcm9wcykge1xuICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgaWYgKHByb3BzKSBfLmV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5pc01hdGNoID0gZnVuY3Rpb24ob2JqZWN0LCBhdHRycykge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKGF0dHJzKSwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cblxuICAgIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG5cbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gZnVuY3Rpb24oKXt9IDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcblxuICBfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gQU1EIHJlZ2lzdHJhdGlvbiBoYXBwZW5zIGF0IHRoZSBlbmQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBTUQgbG9hZGVyc1xuICAvLyB0aGF0IG1heSBub3QgZW5mb3JjZSBuZXh0LXR1cm4gc2VtYW50aWNzIG9uIG1vZHVsZXMuIEV2ZW4gdGhvdWdoIGdlbmVyYWxcbiAgLy8gcHJhY3RpY2UgZm9yIEFNRCByZWdpc3RyYXRpb24gaXMgdG8gYmUgYW5vbnltb3VzLCB1bmRlcnNjb3JlIHJlZ2lzdGVyc1xuICAvLyBhcyBhIG5hbWVkIG1vZHVsZSBiZWNhdXNlLCBsaWtlIGpRdWVyeSwgaXQgaXMgYSBiYXNlIGxpYnJhcnkgdGhhdCBpc1xuICAvLyBwb3B1bGFyIGVub3VnaCB0byBiZSBidW5kbGVkIGluIGEgdGhpcmQgcGFydHkgbGliLCBidXQgbm90IGJlIHBhcnQgb2ZcbiAgLy8gYW4gQU1EIGxvYWQgcmVxdWVzdC4gVGhvc2UgY2FzZXMgY291bGQgZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhblxuICAvLyBhbm9ueW1vdXMgZGVmaW5lKCkgaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBsb2FkZXIgcmVxdWVzdC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59LmNhbGwodGhpcykpO1xuIl19"}